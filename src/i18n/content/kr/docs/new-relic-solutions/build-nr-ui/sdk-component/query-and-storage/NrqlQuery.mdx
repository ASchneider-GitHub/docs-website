---
title: Nrql쿼리
metaDescription: Learn how to work the NrqlQuery component
freshnessValidatedDate: '2024-06-03T00:00:00.000Z'
translationType: machine
---

NRQL 쿼리를 통해 CDS로 데이터를 가져옵니다.

구성 요소는 차트 구성 요소와 호환되는 형식으로 데이터를 반환할 수 있습니다.

### 용법

```js
import { NrqlQuery } from 'nr1'
```

### 예

#### 데이터 변환

```js
<NrqlQuery
  accountIds={[1]}
  query="SELECT count(*) FROM `Synthetics` SINCE 1 DAY AGO TIMESERIES AUTO FACET jobType"
>
  {({ data }) => {
    if (data) {
      // change colors to a nice pink.
      data.forEach(({ metadata }) => (metadata.color = '#F00BA5'));
    }


    return <LineChart data={data} />;
  }}
</NrqlQuery>
```

#### 폴링 데이터

```js
<NrqlQuery
  pollInterval={2000}
  accountIds={[1]}
  query="SELECT count(*) FROM `Synthetics` SINCE 1 DAY AGO TIMESERIES AUTO FACET jobType"
>
  {({ data }) => {
    return <LineChart data={data} />;
  }}
</NrqlQuery>
```

#### 자동 폴링

```js
<NrqlQuery
  pollInterval={NrqlQuery.AUTO_POLL_INTERVAL}
  accountIds={[1]}
  query="SELECT count(*) FROM `Synthetics` SINCE 1 DAY AGO TIMESERIES AUTO FACET jobType"
>
  {({ data }) => {
    return <LineChart data={data} />;
  }}
</NrqlQuery>
```

### 소품

<table>
  <tbody>
    <tr>
      <td>
        `accountId` <h5>더 이상 사용되지 않는</h5> <h5>번호</h5>
      </td>

      <td>
        <Callout
          variant="caution"
          title="마감일: 2022년 11월 1일"
        >
          "accountId" 소품은 더 이상 사용되지 않습니다. 대신 "accountIds" 소품을 사용하세요.
        </Callout>

        NRQL 쿼리를 실행할 계정의 식별자입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accountIds` <h5>필수</h5> <h5>숫자\[]</h5>
      </td>

      <td>
        NRQL 쿼리를 실행할 계정의 식별자입니다.
      </td>
    </tr>

    <tr>
      <td>
        `children` <h5>기능</h5>
      </td>

      <td>
        소품 기능을 자식으로 렌더링합니다.

        <FunctionDefinition
          returnValue={[{"type":"React.ReactNode","description":""}]}
          arguments={[{"name":"queryResult","type":"QueryResult","description":"Results of the query."}]}
        />
      </td>
    </tr>

    <tr>
      <td>
        `formatType` <h5>열거</h5>
      </td>

      <td>
        응답 형식.

        <OptionReference>
          NrqlQuery.FORMAT_TYPE.CHART, NrqlQuery.FORMAT_TYPE.RAW,
        </OptionReference>
      </td>
    </tr>

    <tr>
      <td>
        `offset` <h5>숫자</h5>
      </td>

      <td>
        컴퓨트 start_time 및 end_time에 적용할 오프셋(에포크 밀리초)입니다. 이 오프셋은 쿼리가 개방형인 경우, 즉 1에만 적용됩니다. end_time은 지정되지 않고 2. 지속 시간은 지정됩니다. 이러한 조건이 충족되고 오프셋 값이 있는 경우 유효 end_time은 지금 끝나는 오프셋 밀리초로 설정되고, 유효 시작\_시간은 (오프셋 + 지속 시간) 밀리초로 설정됩니다. 그 end_time 전에.
      </td>
    </tr>

    <tr>
      <td>
        `pollInterval` <h5>숫자|열거형</h5>
      </td>

      <td>
        새 데이터를 폴링하거나 응답 데이터의 메타데이터를 기반으로 자동으로 설정되는 간격(밀리초)입니다.
      </td>
    </tr>

    <tr>
      <td>
        `query` <h5>필수</h5><h5>문자열</h5>
      </td>

      <td>
        NRQL 쿼리입니다 [. 참조는 NRQL 문서를 참조하세요](https://docs.newrelic.com/docs/insights/nrql-new-relic-query-language/nrql-reference).
      </td>
    </tr>

    <tr>
      <td>
        `skip` <h5>부울</h5>
      </td>

      <td>
        `true` 으로 설정하면 렌더링에서 쿼리를 완전히 건너뜁니다.
      </td>
    </tr>

    <tr>
      <td>
        `timeRange` <h5>모양</h5>
      </td>

      <td>
        범위를 지정할 시간 범위 NRQL 쿼리 시간 범위입니다. 기간만 제공되면 기간을 사용하여 지금부터 다시 DURATION(개방형 쿼리라고도 함)까지 쿼리합니다. Begin_time 및 end_time이 제공되면 이를 사용하여 SINCE start_time UNTIL end_time(일명 닫힌 쿼리)을 쿼리합니다.

        <h3>모양</h3>

        `begin_time` <h5>숫자</h5>

        `duration` <h5>숫자</h5>

        `end_time` <h5>숫자</h5>
      </td>
    </tr>
  </tbody>
</table>

### 행동 양식

### `NrqlQuery.query`

<FunctionDefinition
  arguments={[{"description":"Object containing the query options. Any `NrqlQuery` prop is a valid option except `children` and `pollInterval`.","name":"props","type":"Object"}]}
  returnValue={{"description":"","type":"PromiseQueryResult"}}
/>

### 유형 정의

<TypeDefReference typeDef={{"name":"PromiseQueryResult","properties":[{"description":"Runtime error with `graphQLErrors` and `networkError` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your query.","name":"data","type":"Object"},{"description":"If not `null`, `fetchMore` allows you to load more results for your query. New data is merged with previous data.","name":"fetchMore","type":"function|null"},{"description":"Refetch the query.","name":"refetch","type":"function"}]}}/>

<TypeDefReference typeDef={{"name":"QueryResult","properties":[{"description":"Indicates that the request is in flight.","name":"loading","type":"boolean"},{"description":"Runtime error with `graphQLErrors` and `networkError` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your query.","name":"data","type":"Object"},{"description":"If not `null`, `fetchMore` allows you to load more results for your query. New data is merged with previous data.","name":"fetchMore","type":"function|null"},{"description":"Refetch the query.","name":"refetch","type":"function"}]}}/>