---
title: エンティティストレージミューテーション
metaDescription: Learn how to work the EntityStorageMutation component
freshnessValidatedDate: '2024-06-03T00:00:00.000Z'
translationType: machine
---

NerdStorage でエンティティ スコープのドキュメントを保存、削除、または更新します。 この操作を正常に実行するには、ユーザーが適切な権限を持っている必要があります。

### 使用方法

```js
import { EntityStorageMutation } from 'nr1'
```

### 例

#### 文書を書く

```js
EntityStorageMutation.mutate({
  entityGuid: 'MTIzNDU2fEZPT3xCQVJ8OTg3NjU0Mzcz',
  actionType: EntityStorageMutation.ACTION_TYPE.WRITE_DOCUMENT,
  collection: 'myCollection',
  documentId: 'myDocumentId',
  document: {
    name: 'John',
    surname: 'Doe',
  },
});
```

#### ドキュメントを削除

```js
EntityStorageMutation.mutate({
  entityGuid: 'MTIzNDU2fEZPT3xCQVJ8OTg3NjU0Mzcz',
  actionType: EntityStorageMutation.ACTION_TYPE.DELETE_DOCUMENT,
  collection: 'myCollection',
  documentId: 'myDocumentId',
});
```

#### コレクションを削除

```js
EntityStorageMutation.mutate({
  entityGuid: 'MTIzNDU2fEZPT3xCQVJ8OTg3NjU0Mzcz',
  actionType: EntityStorageMutation.ACTION_TYPE.DELETE_COLLECTION,
  collection: 'myCollection',
});
```

### 小道具

<table>
  <tbody>
    <tr>
      <td>
        `actionType` <h5>必須</h5><h5>列挙型</h5>
      </td>

      <td>
        実行するアクションの種類。

        <OptionReference>
          EntityStorageMutation.ACTION_TYPE.DELETE_COLLECTION、EntityStorageMutation.ACTION_TYPE.DELETE_DOCUMENT、EntityStorageMutation.ACTION_TYPE.WRITE_DOCUMENT、
        </OptionReference>
      </td>
    </tr>

    <tr>
      <td>
        `children` <h5>必須</h5><h5>機能</h5>
      </td>

      <td>
        prop関数を子としてレンダリングします。

        <FunctionDefinition
          returnValue={[{"type":"React.ReactNode","description":""}]}
          arguments={[{"name":"mutate","type":"function","description":"Function to trigger a mutation from your UI."},{"name":"mutationResult","type":"MutationResult","description":"Results of the mutation."}]}
        />
      </td>
    </tr>

    <tr>
      <td>
        `collection` <h5>必須</h5><h5>文字列</h5>
      </td>

      <td>
        コレクション名。
      </td>
    </tr>

    <tr>
      <td>
        `document` <h5>物体</h5>
      </td>

      <td>
        NerdStorage ドキュメント。 JSON 文字列化される場合、ドキュメントのサイズは 64 KB に制限されます。
      </td>
    </tr>

    <tr>
      <td>
        `documentId` <h5>ストリング</h5>
      </td>

      <td>
        操作対象となるドキュメント識別子。 省略するとコレクション全体が返されます。
      </td>
    </tr>

    <tr>
      <td>
        `entityGuid` <h5>必須</h5><h5>文字列</h5>
      </td>

      <td>
        コレクションが操作されるエンティティの GUID。
      </td>
    </tr>

    <tr>
      <td>
        `scopeByActor` <h5>ブール値</h5>
      </td>

      <td>
        データをアクター別にスコープ設定する必要があるかどうか、つまり、読み取られるまたは保存されるデータがオブジェクトにアクセスできるすべてのユーザーに共通か、またはユーザー専用かを決定します。オブジェクト (エンティティまたはアカウント) には、「グローバル」データと「スコープ設定された」データの両方を含めることができ、読み取られるデータはフラグのステータスによって異なります。
      </td>
    </tr>
  </tbody>
</table>

### メソッド

### `EntityStorageMutation.mutate`

<FunctionDefinition
  arguments={[{"description":"Object containing the mutation options. Any `EntityStorageMutation` prop is a valid option except `children`.","name":"props","type":"Object"}]}
  returnValue={{"description":"","type":"PromiseQueryResult"}}
/>

### 型定義

<TypeDefReference typeDef={{"name":"PromiseQueryResult","properties":[{"description":"Runtime error with `graphQLErrors` and `networkError` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your query.","name":"data","type":"Object"},{"description":"If not `null`, `fetchMore` allows you to load more results for your query. New data is merged with previous data.","name":"fetchMore","type":"function|null"},{"description":"Refetch the query.","name":"refetch","type":"function"}]}}/>

<TypeDefReference typeDef={{"name":"MutationResult","properties":[{"description":"Indicates that the request is in flight.","name":"loading","type":"boolean"},{"description":"Runtime error with `graphQLErrors` and `networkError` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your mutation.","name":"data","type":"Object"}]}}/>