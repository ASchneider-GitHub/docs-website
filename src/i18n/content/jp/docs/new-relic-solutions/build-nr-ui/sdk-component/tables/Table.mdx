---
title: テーブル
metaDescription: Learn how to work the Table component
freshnessValidatedDate: '2024-06-03T00:00:00.000Z'
translationType: machine
---

固定されたヘッダーと行を持つテーブルをレンダリングします。 テーブルには次の機能が実装されています。

* 柔軟なレイアウト: テーブル ヘッダーはさまざまなサイズに対応しており、流動的なレイアウトと固定レイアウトが可能になります。 列をカスタマイズする方法の詳細については、 `TableHeaderCell`を参照してください。
* ソート: 渡された項目は、テーブルの現在のソート状態に応じてテーブルによって内部的にソートされます。 並べ替えの詳細については、 `TableHeaderCell`を参照してください。
* 行の選択: 右側のチェックボックスを使用して行を選択できます。 詳細については、 `selected`プロパティを参照してください。
* 行アクション: コンテキスト アクションを行ごとにトリガーできるため、ユーザーは行に対して機能を実行できます。 追加方法の詳細については、 `TableRow`を参照してください。
* カスタム定義済みセル: セルの非常に一般的なパターン (テンプレート タイトル、メトリックなど) がプラットフォームによってすでに提供されているため、行の一部としてそれを返すだけで済みます。
* 仮想化: セルは画面に表示される場合にのみレンダリングされます。 これにより、パフォーマンスの低下をほとんど伴わずに、テーブルで大規模なデータセットを処理できるようになります。

### 使用方法

```js
import { Table } from 'nr1'
```

### 例

#### ベーシック

```js
class Example extends React.Component {
  _getActions() {
    return [
      {
        label: 'Show details',
        onClick: (evt, { item, index }) => {
          alert(
            `Show details:Item: ${index}${JSON.stringify(item, null, 2)}`,
          );
        },
      },
      {
        label: 'Delete',
        type: TableRow.ACTION_TYPE.DESTRUCTIVE,
        onClick: (evt, { item, index }) => {
          alert(`Delete:Item: ${index}${JSON.stringify(item, null, 2)}`);
        },
      },
    ];
  }


  _getItems() {
    return [
      {
        name: 'Melton Garcia',
        gender: 'Male',
        company: 'Comtest',
        phone: '+1 (867) 477-3284',
        selected: true,
      },
      {
        name: 'Finley Mendez',
        gender: 'Male',
        company: 'Anarco',
        phone: '+1 (817) 438-3205',
        selected: false,
      },
      {
        name: 'Coleen Salinas',
        gender: 'Female',
        company: 'Macronaut',
        phone: '+1 (962) 419-3856',
        selected: true,
      },
    ];
  }


  render() {
    return (
      <Table items={this._getItems()}>
        <TableHeader>
          <TableHeaderCell value={({ item }) => item.name} width="50%">
            Name
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.gender}>
            Gender
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.company}>
            Company
          </TableHeaderCell>
          <TableHeaderCell
            value={({ item }) => item.phone}
            width="fit-content"
            alignmentType={TableRowCell.ALIGNMENT_TYPE.RIGHT}
          >
            Phone
          </TableHeaderCell>
        </TableHeader>


        {({ item }) => (
          <TableRow actions={this._getActions()}>
            <TableRowCell>{item.name}</TableRowCell>
            <TableRowCell>{item.gender}</TableRowCell>
            <TableRowCell>{item.company}</TableRowCell>
            <TableRowCell>{item.phone}</TableRowCell>
          </TableRow>
        )}
      </Table>
    );
  }
}
```

#### ソート

```js
class Example extends React.Component {
  constructor() {
    super(...arguments);


    this.state = {
      column_0: TableHeaderCell.SORTING_TYPE.ASCENDING,
    };
  }


  _getItems() {
    return [
      {
        name: 'Melton Garcia',
        gender: 'Male',
        company: 'Comtest',
        phone: '+1 (867) 477-3284',
        selected: true,
      },
      {
        name: 'Finley Mendez',
        gender: 'Male',
        company: 'Anarco',
        phone: '+1 (817) 438-3205',
        selected: false,
      },
      {
        name: 'Coleen Salinas',
        gender: 'Female',
        company: 'Macronaut',
        phone: '+1 (962) 419-3856',
        selected: true,
      },
    ];
  }


  _onClickTableHeaderCell(key, event, sortingData) {
    this.setState({ [key]: sortingData.nextSortingType });
  }


  render() {
    return (
      <Table
        items={this._getItems()}
        selected={({ item }) => item.selected}
        onSelect={(evt, { item }) => (item.selected = evt.target.checked)}
      >
        <TableHeader>
          <TableHeaderCell
            value={({ item }) => item.name}
            sortable
            sortingType={this.state.column_0}
            sortingOrder={1}
            onClick={this._onClickTableHeaderCell.bind(this, 'column_0')}
          >
            Name
          </TableHeaderCell>
          <TableHeaderCell
            value={({ item }) => item.gender}
            sortable
            sortingType={this.state.column_1}
            sortingOrder={0}
            onClick={this._onClickTableHeaderCell.bind(this, 'column_1')}
          >
            Gender
          </TableHeaderCell>
          <TableHeaderCell
            value={({ item }) => item.company}
            sortable
            sortingType={this.state.column_2}
            sortingOrder={2}
            onClick={this._onClickTableHeaderCell.bind(this, 'column_2')}
          >
            Company
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.phone}>
            Phone
          </TableHeaderCell>
        </TableHeader>


        {({ item }) => (
          <TableRow>
            <TableRowCell>{item.name}</TableRowCell>
            <TableRowCell>{item.gender}</TableRowCell>
            <TableRowCell>{item.company}</TableRowCell>
            <TableRowCell>{item.phone}</TableRowCell>
          </TableRow>
        )}
      </Table>
    );
  }
}
```

#### ヘッダーアクション付き

```js
class Example extends React.Component {
  _getActions() {
    return [
      {
        label: 'Copy details',
        iconType: TableRow.ACTIONS_ICON_TYPE.INTERFACE__OPERATIONS__COPY_TO,
        onClick: (evt, { items }) => {
          alert(`Copy details: ${JSON.stringify(items, null, 2)}`);
        },
      },
      {
        label: 'Delete',
        iconType: TableRow.ACTIONS_ICON_TYPE.INTERFACE__OPERATIONS__TRASH,
        onClick: (evt, { items }) => {
          alert(`Delete: ${JSON.stringify(items, null, 2)}`);
        },
      },
    ];
  }


  _getItems() {
    return [
      {
        name: 'Melton Garcia',
        gender: 'Male',
        company: 'Comtest',
        phone: '+1 (867) 477-3284',
        selected: true,
      },
      {
        name: 'Finley Mendez',
        gender: 'Male',
        company: 'Anarco',
        phone: '+1 (817) 438-3205',
        selected: false,
      },
      {
        name: 'Coleen Salinas',
        gender: 'Female',
        company: 'Macronaut',
        phone: '+1 (962) 419-3856',
        selected: true,
      },
    ];
  }


  render() {
    return (
      <Table
        items={this._getItems()}
        selected={({ item }) => item.selected}
        onSelect={(evt, { item }) => (item.selected = evt.target.checked)}
      >
        <TableHeader actions={this._getActions()}>
          <TableHeaderCell value={({ item }) => item.name} width="50%">
            Name
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.gender}>
            Gender
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.company}>
            Company
          </TableHeaderCell>
          <TableHeaderCell
            value={({ item }) => item.phone}
            width="fit-content"
            alignmentType={TableRowCell.ALIGNMENT_TYPE.RIGHT}
          >
            Phone
          </TableHeaderCell>
        </TableHeader>


        {({ item }) => (
          <TableRow>
            <TableRowCell>{item.name}</TableRowCell>
            <TableRowCell>{item.gender}</TableRowCell>
            <TableRowCell>{item.company}</TableRowCell>
            <TableRowCell>{item.phone}</TableRowCell>
          </TableRow>
        )}
      </Table>
    );
  }
}
```

#### 単一選択タイプの場合

```js
class Example extends React.Component {
  constructor() {
    super(...arguments);


    this.state = {
      selectedRow: null,
    };
  }


  _getItems() {
    return [
      {
        name: 'Melton Garcia',
        gender: 'Male',
        company: 'Comtest',
        phone: '+1 (867) 477-3284',
      },
      {
        name: 'Finley Mendez',
        gender: 'Male',
        company: 'Anarco',
        phone: '+1 (817) 438-3205',
      },
      {
        name: 'Coleen Salinas',
        gender: 'Female',
        company: 'Macronaut',
        phone: '+1 (962) 419-3856',
      },
    ];
  }


  render() {
    return (
      <Table
        selectionType={Table.SELECTION_TYPE.SINGLE}
        items={this._getItems()}
        selected={({ index }) => index === this.state.selectedRow}
        onSelect={(evt, { index }) => {
          this.setState((prevState) => {
            const { selectedRow } = prevState;


            // When the selected row is clicked, set value to `null`
            return { selectedRow: selectedRow === index ? null : index };
          });
        }}
      >
        <TableHeader>
          <TableHeaderCell value={({ item }) => item.name}>
            Name
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.gender}>
            Gender
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.company}>
            Company
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.phone}>
            Phone
          </TableHeaderCell>
        </TableHeader>


        {({ item }) => (
          <TableRow>
            <TableRowCell>{item.name}</TableRowCell>
            <TableRowCell>{item.gender}</TableRowCell>
            <TableRowCell>{item.company}</TableRowCell>
            <TableRowCell>{item.phone}</TableRowCell>
          </TableRow>
        )}
      </Table>
    );
  }
}
```

#### 単一列の並べ替え

```js
class Example extends React.Component {
  constructor(...args) {
    super(...args);


    this.state = {
      column: 0,
      sortingType: TableHeaderCell.SORTING_TYPE.NONE,
    };


    this.exampleItems = [
      { x: 'A', y: 0 },
      { x: 'B', y: 0 },
      { x: 'A', y: 1 },
    ];
  }


  _onClickTableHeaderCell(column, evt, { nextSortingType }) {
    if (column === this.state.column) {
      this.setState({ sortingType: nextSortingType });
    } else {
      this.setState({ column: column, sortingType: nextSortingType });
    }
  }


  render() {
    const sortingType0 =
      this.state.column === 0
        ? this.state.sortingType
        : TableHeaderCell.SORTING_TYPE.NONE;


    const sortingType1 =
      this.state.column === 1
        ? this.state.sortingType
        : TableHeaderCell.SORTING_TYPE.NONE;


    return (
      <Table items={this.exampleItems}>
        <TableHeader>
          <TableHeaderCell
            sortable
            sortingType={sortingType0}
            onClick={this._onClickTableHeaderCell.bind(this, 0)}
            value={({ item }) => item.x}
          >
            Column 1
          </TableHeaderCell>


          <TableHeaderCell
            sortable
            sortingType={sortingType1}
            onClick={this._onClickTableHeaderCell.bind(this, 1)}
            value={({ item }) => item.y}
          >
            Column 2
          </TableHeaderCell>
        </TableHeader>


        {({ item }) => (
          <TableRow>
            <TableRowCell>{item.x}</TableRowCell>
            <TableRowCell>{item.y}</TableRowCell>
          </TableRow>
        )}
      </Table>
    );
  }
}
```

#### テーブルを使用したクエリ

```js
<EntitiesByDomainTypeQuery entityDomain="APM" entityType="APPLICATION">
  {({ error, data, fetchMore }) => {
    if (!data.entities.length && error) {
      return 'Error!';
    }
    return (
      <Table items={data.entities} rowCount={data.count} onLoadMore={fetchMore}>
        <TableHeader>
          <TableHeaderCell value={({ item }) => item.name}>
            name
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.id}>
            entityGuid
          </TableHeaderCell>
          <TableHeaderCell value={({ item }) => item.accountId}>
            accountId
          </TableHeaderCell>
        </TableHeader>
        {({ item }) => (
          <TableRow>
            <EntityTitleTableRowCell value={item} />
            <TableRowCell>{item.guid}</TableRowCell>
            <TableRowCell>{item.accountId}</TableRowCell>
          </TableRow>
        )}
      </Table>
    );
  }}
</EntitiesByDomainTypeQuery>
```

#### 複数値テーブル

```js
class Example extends React.Component {
  _getItems() {
    return [
      {
        duration: 218,
        errorCount: 0,
        rootSpan: {
          startTimeMs: 1626773604851,
          entityName: 'log-patterns-training',
          guid: '5ef23490-54jklfsd09fsd-ef098lkj',
          name: 'Transactions/Group Log Patterns',
        },
        totalSpanCount: 15,
      },
      {
        duration: 110,
        errorCount: 2,
        rootSpan: {
          entityName: 'network-traicing',
          guid: '4gh2190490-098fsd0123d-ef098lkj',
          name: 'Other Transactions/Network',
          startTimeMs: 1626783604851,
        },
        totalSpanCount: 7,
      },
      {
        duration: 90,
        errorCount: 1,
        rootSpan: {
          entityName: 'staging-services.io',
          guid: 'tre2350490-312fsd0123d-ef098lkj',
          name: 'Staging Environment Transactions/Network',
          startTimeMs: 1626583604851,
        },
        totalSpanCount: 12,
      },
    ];
  }


  render() {
    return (
      <Table items={this._getItems()} multivalue>
        <TableHeader>
          <TableHeaderCell width="30%">Trace group</TableHeaderCell>
          <TableHeaderCell width="30%">Root entity</TableHeaderCell>
          <TableHeaderCell alignmentType={TableHeaderCell.ALIGNMENT_TYPE.RIGHT}>
            Last start time
          </TableHeaderCell>
          <TableHeaderCell alignmentType={TableHeaderCell.ALIGNMENT_TYPE.RIGHT}>
            Trace duration
          </TableHeaderCell>
        </TableHeader>


        {({ item }) => (
          <TableRow>
            <TableRowCell
              additionalValue={`${item.errorCount} Errors, ${item.totalSpanCount} Spans`}
            >
              {item.rootSpan.name}
            </TableRowCell>
            <EntityTitleTableRowCell
              additionalValue={item.rootSpan.guid}
              value={{ name: item.rootSpan.entityName }}
            />
            <MetricTableRowCell
              additionalValue={new Date(
                item.rootSpan.startTimeMs,
              ).toLocaleTimeString()}
              type={MetricTableRowCell.TYPE.TIMESTAMP}
              value={item.rootSpan.startTimeMs}
            />
            <MetricTableRowCell
              type={MetricTableRowCell.TYPE.SECONDS}
              value={item.duration}
            />
          </TableRow>
        )}
      </Table>
    );
  }
}
```

### 小道具

<table>
  <tbody>
    <tr>
      <td>
        `ariaLabel` <h5>ストリング</h5>
      </td>

      <td>
        テーブルの目的を説明するアクセシビリティラベルを提供します。例: `"All entities"` 。
      </td>
    </tr>

    <tr>
      <td>
        `children` <h5>(ノード|関数)\[]</h5>
      </td>

      <td>
        表の内容。 テーブルには子として`<TableHeader>`と`<TableRow>`を返す関数のみを含めることができます。
      </td>
    </tr>

    <tr>
      <td>
        `className` <h5>ストリング</h5>
      </td>

      <td>
        コンポーネントにクラス名を追加します。配置と間隔の目的にのみ使用してください。
      </td>
    </tr>

    <tr>
      <td>
        `compact` <h5>ブール値</h5>
      </td>

      <td>
        テーブルをコンパクト モードでレンダリングするかどうかを指定します (コンパクト モードでは行が狭くなります)。 一般的には、コンパクト モードはダッシュボードなどのデータ表現用に予約されているため、標準モードを使用します。
      </td>
    </tr>

    <tr>
      <td>
        `items` <h5>どれでも\[]</h5>
      </td>

      <td>
        レンダリング時に使用される項目。レンダリング コールバックを使用して項目をレンダリングするときに必要です。各項目は任意の構造とタイプを持つことができ、各要素リストをレンダリングするときに対応するものが提供されます。
      </td>
    </tr>

    <tr>
      <td>
        `mainColumn` <h5>ナンバー</h5>
      </td>

      <td>
        行を識別する主なデータを含む列。 多くの場合、最初の列 (インデックス 0) が関連しますが、アクション (お気に入りなど) はその前に配置できます。
      </td>
    </tr>

    <tr>
      <td>
        `multivalue` <h5>ブール値</h5>
      </td>

      <td>
        `additionalValue`プロパティをサポートするセルの 2 行目のコンテンツを有効にします。

        **注意:** `multivalue`モードはデフォルト サイズでのみ機能し、 `compact`では機能しません。
      </td>
    </tr>

    <tr>
      <td>
        `onLoadMore` <h5>機能</h5>
      </td>

      <td>
        さらにアイテムをロードする必要がある場合にコールバックが起動されます。 これは、アイテムを遅延読み込みしていて、レンダリングしようとしているアイテムが`items`配列内に見つからない場合に発生します。このコールバックは、不足しているアイテムをバックエンドまたは他のソースから取得/読み込むために使用する必要があります。返された Promise は、アイテム データの読み込みが完了したら解決する必要があります。 これは、新しくロードされたデータでリストをいつ更新するかを決定するために使用されます。 このコールバックは、単一のスクロール イベントに反応して複数回呼び出される場合があります。

        <FunctionDefinition
          returnValue={[]}
          arguments={[{"name":"cursor","type":"Cursor","description":"Items to load."}]}
        />
      </td>
    </tr>

    <tr>
      <td>
        `onSelect` <h5>機能</h5>
      </td>

      <td>
        ユーザーが行のチェックボックスをクリックしたときに呼び出される関数。チェックボックスのイベント、行を表す項目、テーブルに渡された`items`配列内のそのインデックス、および項目自体を含むオブジェクトとともに呼び出されます。ユーザーがヘッダーのチェックボックスを選択または選択解除すると (すべて選択 / すべて選択解除)、各行の個々のクリックを表す項目ごとにコールバックが 1 回呼び出されます。 ヘッダーのチェックボックスの状態はテーブルによって自動的に制御されます。

        <FunctionDefinition
          returnValue={[]}
          arguments={[{"name":"event","type":"React.ChangeEvent","description":""},{"name":"selectedItem","type":"SelectedCallbackArgument","description":""}]}
        />
      </td>
    </tr>

    <tr>
      <td>
        `rowCount` <h5>ナンバー</h5>
      </td>

      <td>
        行数。デフォルトでは、items プロパティで渡される配列の長さと同じです。アイテムの合計数はわかっているが、スクロール中に遅延読み込みを行う場合は、 `rowCount`指定する必要があります。
      </td>
    </tr>

    <tr>
      <td>
        `selected` <h5>機能</h5>
      </td>

      <td>
        行が選択されているかどうかを返す関数。 行の状態を表すブール値を返す必要があります。これは、行を表す項目、テーブルに渡された`items`配列内のそのインデックス、および項目自体を含むオブジェクトを使用して呼び出されます。

        <FunctionDefinition
          returnValue={[{"type":"boolean","description":""}]}
          arguments={[{"name":"item","type":"SelectedCallbackArgument","description":""}]}
        />
      </td>
    </tr>

    <tr>
      <td>
        `selectionType` <h5>enum</h5>
      </td>

      <td>
        `Table`の選択モードを設定します。 `onSelect`および`selected`プロパティと一緒に使用して、ユーザーがチェックする行を決定します。

        * `Table.SELECTION_TYPE.BULK` 各行ごとにチェックボックスが表示され、ヘッダーにはすべての項目を選択するためのチェックボックスも表示されます。 項目を選択すると、ヘッダーアクションが使用可能になります。

        * `Table.SELECTION_TYPE.SINGLE` チェックボックスが表示されない場合、ユーザーは行をクリックするだけで選択できます。 コンポーネントでは強制されていませんが、 `selected`コールバックは 1 つの項目に対してのみ`true`を返す必要があります。 コンポーネントの例をチェックして、どのように動作するかを確認してください。

          <OptionReference>
            テーブル.SELECTION_TYPE.BULK、テーブル.SELECTION_TYPE.SINGLE、
          </OptionReference>
      </td>
    </tr>

    <tr>
      <td>
        `spacingType` <h5>列挙型\[]</h5>
      </td>

      <td>
        間隔プロパティ。 間隔は、0 から 4 個の値のタプルとして定義され、 `margin`や`padding`などの CSS プロパティと同じ規則に従います。 値を省略するには、 `SPACING_TYPE.OMIT`を使用します。

        <OptionReference array>
          テーブル.SPACING_TYPE.EXTRA_LARGE、テーブル.SPACING_TYPE.LARGE、テーブル.SPACING_TYPE.MEDIUM、テーブル.SPACING_TYPE.NONE、テーブル.SPACING_TYPE.OMIT、テーブル.SPACING_TYPE.SMALL、
        </OptionReference>
      </td>
    </tr>

    <tr>
      <td>
        `style` <h5>物体</h5>
      </td>

      <td>
        カスタム スタイル設定用のインライン スタイル。配置と間隔設定の目的でのみ使用してください。
      </td>
    </tr>

    <tr>
      <td>
        `testId` <h5>ストリング</h5>
      </td>

      <td>
        `data-test-id`属性を追加します。 ユニット テストと E2E テストでコンポーネントをターゲットにするために使用します。テスト ID を有効にするには、nerdpack ID をプレフィックスとして付け、その後にドットを付けます。たとえば、 `my-nerdpack.some-element` 。

        **注:** `data-test-id` 属性はDOMから削除されているため表示されない場合があります。デバッグするには、URL に `e2e-test` クエリ引数を渡します。
      </td>
    </tr>
  </tbody>
</table>

### 型定義

<TypeDefReference typeDef={{"name":"Cursor","properties":[{"description":"First index of the range of items to load.","name":"startIndex","type":"number"},{"description":"Last index of the range of items to load.","name":"stopIndex","type":"number"}]}}/>

<TypeDefReference typeDef={{"name":"SelectedCallbackArgument","properties":[{"description":"Item to check.","name":"item","type":"any"},{"description":"Index of the item in the items array.","name":"index","type":"number"},{"description":"Array of all items passed.","name":"items","type":"any[]"}]}}/>