---
title: New Relicを使用したアラート条件の作成
metaDescription: How to create an alert with New Relic
freshnessValidatedDate: never
translationType: human
---

import alertsCreate from 'images/alerts_screenshot-crop_create-query.webp'

import alertsSignal from 'images/alerts_screenshot-crop_signal-select.webp'

import alertsTune from 'images/alerts_screenshot-crop_signal-tune.webp'

import alertsThresholds from 'images/alerts_screenshot-crop_set-thresholds.webp'

import alertsDetails from 'images/alerts_screenshot-crop_condition-details.webp'

import alertsNRQL from 'images/alerts_screenshot-crop_NRQL-query.webp'

import alertsNewCreate from 'images/alerts_screenshot-crop_create-new-query.webp'

import alertsGoldenCreate from 'images/alerts_screenshot-crop_golden-metrics.webp'

import alertsGoldenEntities from 'images/alerts_screenshot-crop_golden-metric-entities.webp'

import alertsOtherMetrics from 'images/alerts_screenshot-crop_other-metrics.webp'

import alertsAlertBuilder from 'images/alerts_screenshot-crop_alert-builder.webp'

New Relicでアラート条件を作成するには、チャート、NRQLクエリ、ゴールデンメトリクスを使用する3つの方法があります。作成プロセスの開始部分は選択したオプションによって異なりますが、その後の手順はすべて同じです。つまり、ある方法で条件を作成すると、それによって得た経験が、他のオプションのいずれかを使用して作成した他の条件に引き継がれます。

このチュートリアルには、前述の3つのオプションすべての手順が含まれているため、お好きな方法で最初の条件から始めることができます。最初の手順でたどりたいパスを選択するだけで、手順が終わるまでにNew Relicを使用して最初のアラート条件を作成することができます。

<Callout variant="tip">
  以下の手順で説明するオプションまたは用語の詳細が必要な場合は、[アラートドキュメント](/docs/alerts-applied-intelligence/overview/#concepts-terms)を参照してください。
</Callout>

<Steps>
  <Step>
    <Tabs>
      <TabsBar>
        <TabsBarItem id="create-alert-chart">
          チャートを使用して作成する
        </TabsBarItem>

        <TabsBarItem id="create-alert-guided">
          ガイド付きモードを使用して作成する
        </TabsBarItem>

        <TabsBarItem id="create-alert-nrql">
          NRQLを使用して作成する
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="create-alert-chart">
          チャートから開始することは、New Relicアラート条件を設定する最も簡単な方法の1つです。NRQLを最初から作成する代わりに、チャートを使用すると、既存のNRQLクエリを使用してプロセスを開始できます。

          この例では、エラー応答チャートを使用してアラート条件を設定します。開始したいチャートの種類を使用して、以下の手順に従います。

          1. Go to any dashboard. Then, find a chart you want to use, click the "<DoNotTranslate>**...**</DoNotTranslate>" menu, and select <DoNotTranslate>**Create alert condition**</DoNotTranslate>.

             <img
               title="Create chart alert"
               alt="A screenshot displaying where to create an alert condition from a chart in New Relic"
               src={alertsCreate}
               style={{ maxWidth: '65%' }}
             />

          2. Select the signal, or stream of data, you want to use to create the alert condition. To keep things simple, <DoNotTranslate>**Build a query**</DoNotTranslate> is the default option for conditions created this way.

             <img
               title="Defining a signal"
               alt="A screenshot detailing how to select a query for an alert condition"
               src={alertsSignal}
               style={{ maxWidth: '65%' }}
             />

          3. Modify the NRQL query to match what you want you to monitor, if necessary. For now, we recommend leaving the query as is, but once you have a better handle on <InlinePopover type="alerts"/>and NRQL queries, you can change the query to monitor nearly any signal.

          4. Select <DoNotTranslate>**Next**</DoNotTranslate> once you've finished to save your progress and move on to the next step.
        </TabsPageItem>

        <TabsPageItem id="create-alert-guided">
          <SideBySide>
            <Side>
              One of the easiest ways to get started is to use our <DoNotTranslate>**Golden signal or metric**</DoNotTranslate> option. When selected, this capability gives you a guided creation path for making a condition. All you have to do is select the options you want and let us do the rest!

              次の例では特定のオプションを使用しますが、特定のニーズに合った正確なアラート条件を作成するために必要なものはすべて変更できます。

              1. From <DoNotTranslate>**one.newrelic.com**</DoNotTranslate>, select [<DoNotTranslate>**Alerts & AI**</DoNotTranslate>](https://one.newrelic.com/alerts-ai), then [<DoNotTranslate>**Alert conditions (policies)**</DoNotTranslate>](https://one.newrelic.com/alerts-ai/alerts-classic/policies).
              2. Select <DoNotTranslate>**New alert condition**</DoNotTranslate>.
              3. Select <DoNotTranslate>**Golden signal or metrics**</DoNotTranslate>.
            </Side>
          </SideBySide>

          <SideBySide>
            <Side>
              <img
                width="70%;"
                title="golden metrics"
                alt="A screenshot displaying the golden metrics alert creation option"
                src={alertsGoldenCreate}
              />
            </Side>

            <Side>
              4. Choose any of the listed entity categories to determine what the alert condition will monitor. For this example, <DoNotTranslate>**On host integrations**</DoNotTranslate> is selected, but you can choose any other option that better suits your needs.
              5. AWS、Kubernetes、オンホストインテグレーションなどのサービスを使用している場合は、個々のエンティティを選択する前にエンティティタイプを選択する必要もあります。エンティティタイプを選択して、次の手順のオプションを絞り込みます。
              6. 監視するエンティティを選択します。選択するエンティティが多数ある場合は、フィルターフィールドを使用してリストを短縮すると、必要なものを見つけることができます。
            </Side>
          </SideBySide>

          7. Select the signal you want to monitor. This example uses <DoNotTranslate>**First input delay (75 percentile)**</DoNotTranslate>, but you can use any other option that better suits your needs.

             <img
               style={{ align: "left",width: "70%" }}
               title="golden metric entities"
               alt="A screenshot displaying the entities selection screen for golden metrics alerts"
               src={alertsGoldenEntities}
             />

             厳選されたゴールデンメトリクスを選択することも、過去30分間にレポートされた他のメトリクスから選択することもできます。

             <img
               title="Golden metric entities"
               alt="A screenshot displaying the other metrics option"
               src={alertsOtherMetrics}
             />

          8. Select

             <DoNotTranslate>**Next**</DoNotTranslate>

             once you've finished to save your progress and move on to the next step.

          <Callout variant="tip">
            利用できるカテゴリは、New Relicがアカウント内で何を監視しているかによって異なります。
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="create-alert-nrql">
          チャートの使用は、事前に作成されたクエリからアラート条件を作成する優れた方法ですが、場合によっては、最初からアラート条件を作成する必要があります。NRQLクエリから新しいアラート条件を作成するプロセスは、チャートから作成するプロセスとほぼ同じです。主な違いは、事前に生成されたNRQLクエリを使用するのではなく、手動でNRQLクエリを作成する点です。

          <Callout variant="tip">
            NRQLはNew Relic Query Languageの略で、すべてのチャートを強化し、データの分析とクエリに使用できる標準化されたクエリメソッドです。NRQLを初めて使用する場合は、[NRQLドキュメント](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/)を参照して、NRQLの[仕組み](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-how-nrql-works/)や[入門チュートリアル](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-tutorial/)など、NRQLの詳細をご覧ください。
          </Callout>

          <img
            title="NRQL alert"
            alt="A screenshot displaying an alert condition created with a simple NRQL query"
            src={alertsNRQL}
          />

          1. From <DoNotTranslate>**one.newrelic.com**</DoNotTranslate>, select [<DoNotTranslate>**Alerts & AI**</DoNotTranslate>](https://one.newrelic.com/alerts-ai), then [<DoNotTranslate>**Alert conditions (policies)**</DoNotTranslate>](https://one.newrelic.com/alerts-ai/alerts-classic/policies).
          2. Select <DoNotTranslate>**New alert condition**</DoNotTranslate>.
          3. NRQLクエリを記述して条件を作成します。たとえば、遅いトランザクションを監視したい場合は、次のように入力できます。

          ```sql
          SELECT average(duration) from Transaction facet name
          ```

          4. Select

             <DoNotTranslate>**Next**</DoNotTranslate>

             once you've finished to save your progress and move on to the next step.
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Step>

  <Step>
    ## 信号動作に合わせて調整

    <img
      title="Tuning your signal"
      alt="A screenshot displaying how to set options for a signal in an alert condition"
      src={alertsTune}
    />

    1. <DoNotTranslate>**Set the data aggregation options**</DoNotTranslate>:

       * <DoNotTranslate>**Window duration**</DoNotTranslate>

         : Use the

         <DoNotTranslate>**Window duration**</DoNotTranslate>

         setting to determine how frequently we aggregate your data, such as groupings of every 5 minutes or every hour. This feature's setting depends on what kind of data you're monitoring. If you're unsure of what it should be, you can leave it at the default setting. You can learn more in our [Create your first alert doc](/docs/alerts-applied-intelligence/new-relic-alerts/get-started/your-first-nrql-condition/#window-duration).

       * <DoNotTranslate>**Sliding window aggregation**</DoNotTranslate>

         : Choose whether or not you want to use [sliding window aggregation](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#sliding-window-aggregation). This feature creates smoother charts when dealing with erratic data by creating overlapping aggregation windows. This feature is disabled by default, and we recommend keeping it disabled for your first alert

       * <DoNotTranslate>**Streaming method**</DoNotTranslate>

         : The options most commonly used are

         <DoNotTranslate>**Event flow**</DoNotTranslate>

         and

         <DoNotTranslate>**Event timer**</DoNotTranslate>

         .

         <DoNotTranslate>**Event flow**</DoNotTranslate>

         is best suited for frequent and consistently reporting data, while

         <DoNotTranslate>**Event timer**</DoNotTranslate>

         is best suited for data that reports inconsisntely, infrequently, or ingests in batches. If you want to learn more about the individual settings to see which method should be used in each scenario, see [our docs](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/understand-technical-concepts/streaming-alerts-key-terms-concepts/#aggregation-methods)

    2. <DoNotTranslate>**Set the timing option**</DoNotTranslate>: This determines how long we wait for events in each window before we evaluate them. A longer delay will mean fewer false alerts, but it will also mean longer potential downtime before an incident is open. This capability is also shown differently depending on the option you select: it's called <DoNotTranslate>**Delay**</DoNotTranslate> in the <DoNotTranslate>**Event flow**</DoNotTranslate> and <DoNotTranslate>**Cadence**</DoNotTranslate> options and <DoNotTranslate>**Timer**</DoNotTranslate> in <DoNotTranslate>**Event timer**</DoNotTranslate>. For your first alert, we recommend keeping the default time setting.

    3. <DoNotTranslate>**Select the gap filling strategy**</DoNotTranslate>: Gap-filling is a reactive feature that fills blank periods in data reporting with user-defined synthetic value. If you believe the data reporting will be sporadic, you can avoid false alerts by filling in empty aggregation windows with this data. For your first alert, select <DoNotTranslate>**None**</DoNotTranslate> under <DoNotTranslate>**Gap-filling strategy**</DoNotTranslate>.

    4. <DoNotTranslate>**Select the evaluation delay**</DoNotTranslate>: If used, this option enables a period of time for New Relic to wait before evaluating a new signal against your set threshold. It's useful for preventing false positive incidents when a data stream begins to report. For your first alert, you can leave it to the disabled toggle unless you know that this option applies to your data.

    5. Select <DoNotTranslate>**Next**</DoNotTranslate> once you've finished to save your progress and move on to the next step.
  </Step>

  <Step>
    ## 静的閾値の設定

    <img
      title="Set static thresholds"
      alt="A screenshot displaying how to set static thresholds for an alert condition"
      src={alertsThresholds}
    />

    1. Start by selecting whether the threshold will have a status of <DoNotTranslate>**Critical**</DoNotTranslate> or <DoNotTranslate>**Warning**</DoNotTranslate> in the <DoNotTranslate>**Security level**</DoNotTranslate> section.
    2. Set the limit that, when met, will open an incident. These values will change depending on what you want the condition to do. For example, if you wanted to create a condition for an error message, you might set the threshold to <DoNotTranslate>**equal to 1 at least once in 5 minutes**</DoNotTranslate>, but if you wanted to create a condition for longer periods of latency issues, you might set the threshold to <DoNotTranslate>**above or equal to 50 for at least 15 minutes**</DoNotTranslate>.
    3. If you want to add another threshold, select either <DoNotTranslate>**Add threshold**</DoNotTranslate> or <DoNotTranslate>**Add lost signal threshold**</DoNotTranslate>, depending on your needs. Lost signal thresholds are important for monitoring entities that may stop reporting or queries that may [return null values](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#query-order).
    4. Select <DoNotTranslate>**Next**</DoNotTranslate> once you've finished to save your progress and move on to the next step.
  </Step>

  <Step>
    ## アラート条件の詳細を追加する

    <img
      title="Alert condition details"
      alt="A screenshot displaying how to create the details for an alert"
      src={alertsDetails}
    />

    1. Add a name for your alert in the <DoNotTranslate>**Name**</DoNotTranslate> field. This will help you identify this condition, as well as find the condition in the future in case you need to edit or remove it.
    2. Choose the policy for this condition to connect to. If you have an <DoNotTranslate>**Existing policy**</DoNotTranslate>, select it from the drop-down. If not, you'll need to [create a policy](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/create-edit-or-find-alert-policy/#alert-policy-name) by selecting <DoNotTranslate>**New policy**</DoNotTranslate> and creating it from here.
    3. アラートの追加設定を行います。これには、オープンなインシデントが自動的にクローズされるまでの時間を設定したり、インシデントの[カスタム説明](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/alert-custom-incident-descriptions)を入力したりすることなどがあります。
    4. Select <DoNotTranslate>**Save condition**</DoNotTranslate> to finish.
  </Step>
</Steps>

## Create an alert using the classic alert builder

<Callout variant="tip">
  We recommend using the methods above to create a NRQL alert. If you would like to create a classic alert, you can use the original alert builder form.
</Callout>

<img
  title="Create an alert with builder"
  alt="A screenshot showing the alert builder"
  src={alertsAlertBuilder}
/>

1. From <DoNotTranslate>**one.newrelic.com**</DoNotTranslate>, select [<DoNotTranslate>**Alerts & AI**</DoNotTranslate>](https://one.newrelic.com/alerts-ai), then [<DoNotTranslate>**Alert policies**</DoNotTranslate>](https://one.newrelic.com/alerts-ai/condition-builder/policy-list).
2. Click on the policy for which you'd like to create the classic alert condition or create a new policy.
3. Select <DoNotTranslate>**New alert condition**</DoNotTranslate>, then select <DoNotTranslate>**Build a classic alert**</DoNotTranslate>.
4. Build your condition from any of the listed categories. This determines what the alert condition notifies you about.
5. Select a condition type to narrow down the options for the next step. You may also need to select a scope.
6. Select the entity or entities you want to monitor. Use the search bar to narrow down the entity list. If you selected an APM application metric type condition, you may choose to dynamically target applications that share certain tags.
7. Set your alert thresholds and any other condition settings. Name your condition, then save.

You've now created an alert condition! We offer different configuration options for alerts, so you can fine tune your alerts for your monitoring needs. You can also create conditions from NRQL queries, which we will cover next in this tutorial series.

## アラートをさらに活用 [#more-alerting]

チームにとってアラートをより効率的かつ管理しやすくする上で役立つ、高度なアラート機能がいくつかあります。

* アラートをいつどこで受信するかをより詳細に制御し、問題について適切な担当者に確実に通知できるようにしたい場合は、[ワークフロー](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows/)の使用方法を参照してください
* 重大なアラートのほぼ即時通知を有効にして、平均解決時間（MTTR）を短縮したい場合は、 [アプライドインテリジェンスでの異常検出](/docs/alerts-applied-intelligence/applied-intelligence/anomaly-detection/anomaly-detection-applied-intelligence/)の使用方法をご覧ください
* APIを使用してNew Relicアラートを管理する場合は、[REST APIまたはGraphQL](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-api/intro-alerts-api/)を使用して実行できます

<UserJourneyControls nextStep={{"path":"/docs/tutorial-create-alerts/improve-with-alerts/","title":"次のステップ","body":"アラートによるスタックの改善方法を学ぶ"}}/>