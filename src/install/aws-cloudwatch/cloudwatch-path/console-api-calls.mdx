---
componentType: default
headingText: UPDATE
---

1. **Create a Kinesis Data Firehose Delivery Stream** and configure the following destination parameters:

   * Source: Direct PUT or other sources
   * Data transformation: Disabled
   * Record format conversion: Disabled
   * Destination: New Relic
   * Ensure the following settings are defined:
     * New Relic configuration (Destination Settings)
       * HTTP endpoint URL - US Datacenter: `https://aws-api.newrelic.com/cloudwatch-metrics/v1`
       * HTTP endpoint URL - EU Datacenter: `https://aws-api.eu01.nr-data.net/cloudwatch-metrics/v1`
       * API key: Enter your <InlinePopover type="licenseKey"/>
       * Content encoding: `GZIP`
       * Retry duration: `60`
     * S3 backup mode: Failed data only
     * S3 bucket: select a bucket or create a new one to store metrics that failed to be sent.
     * New Relic buffer conditions
       * Buffer size: `1 MB`
       * Buffer interval: `60 (seconds)`
     * Permissions IAM role:
       * Create or update IAM role

2. **Create the metric stream**.

   * Go to <DNT>**CloudWatch service**</DNT> in your AWS console and select the <DNT>**Streams**</DNT> option under the <DNT>**Metrics**</DNT> menu.
   * Click <DNT>**Create metric stream**</DNT>.
   * Determine the right configuration based on your use cases:
     * Use inclusion and exclusion filters to select which services should push metrics to New Relic.
     * Select your Kinesis Data Firehose.
     * Define a meaningful name for the stream (for example, `newrelic-metric-stream)`.
   * Change default output format to `Open Telemetry 0.7`. (JSON is not supported.)
   * Confirm the creation of the metric stream.

     Alternatively, you can find instructions on the AWS documentation to create the CloudWatch metric stream using a CloudFormation template, API, or the CLI.

3. **Add the new AWS account** in the <DNT>**Metric streams**</DNT> mode in the New Relic UI.
   Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Infrastructure > AWS**</DNT>, click on <DNT>**Add an AWS account**</DNT>, then on <DNT>**Use metric streams**</DNT>, and follow the steps.

## Validate your data is received correctly [#validate-data]

To confirm you're receiving data from the Metric Streams, follow these steps:

1. Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Infrastructure > AWS**</DNT>, and search for the <DNT>**Stream**</DNT> accounts.
2. Check the following:

   * Account status dashboard. Useful to confirm that New Relic receives the metric data (errors, number of namespaces/metrics ingested, etc.)
   * Explore your data. Use metrics and events to find a specific set of metrics, access all dimensions available for a given metric, and more.

It may take few minutes until new resources are detected and synthesized as entities. See [cloud integrationssystem limits](/docs/data-apis/manage-data/view-system-limits) for more information.

<Callout variant="tip">
  AWS CloudWatch metrics for global services, such AWS Billing, are only availble in the <DNT>**us-east-1**</DNT> region. Make sure there's an active CloudWatch metric stream configured in that region.
</Callout>
