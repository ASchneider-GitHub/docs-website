---
componentType: default
headingText: Configure the Python agent
freshnessValidatedDate: never
---

To collect AI data, you need to set certain configurations to enable AI monitoring. We recommend applying these configurations in `newrelic.yml`, but if you have a more complex set up with multiple environments, you can configure with environment variables.

<CollapserGroup>
    <Collapser
        id="config-file"
        title="Configure through `newrelic.yml`"
    >

        ```yml
        ai_monitoring.enabled: true
        event_harvest_config.harvest_limits.span_event_data: 10000
        event_harvest_config.harvest_limits.custom_event_data: 100000
        ```

    </Collapser>
    <Collapser
        id="environment-variables"
        title="Configure with environment variables"
    >
    
        ```bash
        NEW_RELIC_AI_MONITORING_ENABLED = TRUE
        ```

        ```bash
        NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED = 10000
        ```

        ```bash
        NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_MAX_SAMPLES_STORED = 100000
        ```

    </Collapser>
</CollapserGroup>

* When you disable distributed tracing or enable high security mode, the agent will not capture AI data. 
* You can refer to the [Python configuration doc](/docs/apm/agents/python-agent/configuration/python-agent-configuration/#ai-monitoring) to learn more about AI monitoring configurations.
        * Refer to the [event harvest section](/docs/apm/agents/python-agent/configuration/python-agent-configuration/#harvest-limits-span-event-data) for `event_harvest_config.harvest_limits.span_event_data`
        * Refer to the [custom events section](/docs/apm/agents/python-agent/configuration/python-agent-configuration/#harvest-limits-custom-event-data)  for `event_harvest_config.harvest_limits.custom_event_data`
