---
componentType: default
headingText: Configure the Go agent
freshnessValidatedDate: never
---

To collect AI data, you need to ensure that certain configurations are enabled when you instrument your AI-powered app. We also recommend updating other variables to improve data retention.

* We recommend applying these configurations in the New Relic config file. 
* If you have a more complex set up with multiple environments, you can configure with environment variables.

Set these variables:

    <table>
        <tbody>
            <tr>
                <td>
                    **Configuration file**
                </td>
                <td>
                    `ai_monitoring.enabled = true`
                </td>
                <td>
                    `distributed_tracing.enabled = true`
                </td>
                <td>
                    `high_security = false`
                </td>
                <td>
                    `AIMonitoring.RecordContent.Enabled = true`
                </td>
            </tr>
            <tr>
                <td>
                    **Environment variable**
                </td>
                <td>
                    `NEW_RELIC_AI_MONITORING_ENABLED = TRUE`
                </td>
                <td>
                    `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED = TRUE`
                </td>
                <td>
                    `NEW_RELIC_HIGH_SECURITY = FALSE`
                </td>
                <td>
                    `NEW_RELIC_AI_MONITORING_RECORD_CONTENT_ENABLED`
                </td>
            </tr>
            <tr>
                <td>
                    **Configuration function**
                </td>
                <td>
                    `newrelic.ConfigAIMonitoringEnabled(true)`                
                </td>
                <td>
                    `newrelic.ConfigAIMonitoringStreamingEnabled(true)`
                </td>
                <td>
                    `newrelic.ConfigAIMonitoringIncludeOnly([]{"openai,"bedrock"})`
                </td>
                <td>
                    `newrelic.ConfigAIMonitoringRecordContentEnabled(true)`
            </td>
            </tr>
        </tbody>
    </table>

    When you install an agent, `distributed_tracing.enabled` and `high_security` are set to the correct variables by default. When you disable distributed tracing or enable high security mode, the agent will not capture AI data.