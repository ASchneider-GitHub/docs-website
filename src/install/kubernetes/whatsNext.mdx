---
componentType: default
headingText: Metrics collected by the integration
---


## EKS Fargate logging [#fargate-logging]

New Relic logging isn't available on Fargate nodes because of security constraints imposed by AWS, but here are some logging options:

  * If you're using Fluentbit for logging, see [Kubernetes plugin for log forwarding](/docs/logs/forward-logs/kubernetes-plugin-log-forwarding/).
  * If your log data is already being monitored by AWS FireLens, see [AWS FireLens plugin for log forwarding](/docs/logs/forward-logs/aws-firelens-plugin-log-forwarding/).
  * If your log data is already being monitored by Amazon CloudWatch Logs, see [Stream logs using Kinesis Data Firehose](/docs/logs/forward-logs/stream-logs-using-kinesis-data-firehose/).
  * See [AWS Lambda for sending CloudWatch logs](/docs/logs/forward-logs/aws-lambda-sending-cloudwatch-logs/).
  * See [Three ways to forward logs from Amazon ECS to New Relic](https://newrelic.com/blog/how-to-relic/forward-logs-from-amazon-ecs-to-new-relic).

## EKS Fargate troubleshooting [#troubleshooting]

<CollapserGroup>
    <Collapser
        className="freq-link"
        id="daemonset"
        title="DaemonSet replicas are being deployed into Fargate nodes"
    >
    If you notice that any Infra `DaemonSet` replicas are being scheduled on Fargate nodes, it might be because the `nodeAffinity` rules are not configured properly.

    Double-check that the solution was installed with the `global.fargate` option to `true`, either through the command line (`--set global.fargate=true`) or in the `values.yaml` file. If the installation method was not Helm, you'll need to manually add `nodeAffinity` rules to exclude Fargate nodes.

    </Collapser>

    <Collapser
        className="freq-link"
        id="event-untolerated"
        title={<>Event <InlineCode>FailedScheduling</InlineCode> due to untolerated taint</>}
    >

    Remember to add in the `values.yaml` file the `tolerations` described in [Automatic injection installation](#auto-injection-install) if you get the following event while trying to create a pod:

    ```yaml
    LAST SEEN | TYPE | REASON | OBJECT | MESSAGE
    :--|:--|:--|:--|:--
    3m9s (x2 over 8m10s) | Warning | FailedScheduling | Pod/no-fargate-deploy-cbddd6ccf-8f9x4 | 0/2 nodes are available: 2 node(s) had untolerated taint {eks.amazonaws.com/compute-type: fargate}. preemption: 0/2 nodes are available: 2 Preemption is not helpful for scheduling..
    ```

    </Collapser>

    <Collapser
        className="freq-link"
        id="event-many-pods"
        title={<>Event <InlineCode>FailedScheduling</InlineCode> due to too many pods</>}
    >

    Check if there's a Fargate profile with a selector that names the namespace where installation is occurring if you get the following event while trying to create a pod:

    ```yaml
    LAST SEEN | TYPE | REASON | OBJECT | MESSAGE
    :--|:--|:--|:--|:--
    61s | Warning | FailedScheduling | Pod/newrelic-bundle-newrelic-infra-operator-admission-create-d8ggt | 0/2 nodes are available: 2 Too many pods. preemption: 0/2 nodes are available: 2 No preemption victims found for incoming pod..
    ```

    </Collapser>

    </CollapserGroup>


## Choose your next step [#choose-next-step]

See these pages to learn more about it:

* [Explore your Kubernetes cluster](/docs/kubernetes-pixie/kubernetes-integration/understand-use-data/kubernetes-cluster-explorer)
* [Find and use your Kubernetes data](/docs/kubernetes-pixie/kubernetes-integration/understand-use-data/find-use-your-kubernetes-data) with queries, in charts, for alerts, etc.