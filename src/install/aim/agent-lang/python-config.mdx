---
componentType: default
headingText: Configure the Python agent
---

You installed the Python agent in the last step, but you still need to make configurations so it recognizes and collects AI-specific data. For AI data, you need to enable the `ai_monitoring` and `ai_monitoring.streaming` flags. Both prompt the Python agent to expose AI data within your app data. 

1. We recommend applying these configurations from `newrelic.ini` config file. If you have a more complex set up with multiple environments, you can configure with environment variables.

    <CollapserGroup>
        <Collapser
            id="config-file"
            title="Enable with config file"
        >

    ```ini
    ai_monitoring.enabled = true
    ```   
        </Collapser>
        <Collapser
            id="config-enviro"
            title="Enable with environment variables"
        >

    ```bash
    NEW_RELIC_AI_MONITORING_ENABLED=true
    ```

        </Collapser>
    </CollapserGroup>

3. One instance of the Python agent sends a maximum of 100,000 machine learning (ML) events per minute. Once the agent hits that maximum, it samples your ML events, giving a general representation of events across the harvest cycle. 

    You can adjust this value to ELEPHANT.

        <CollapserGroup>
            <Collapser
                id="config-file"
                title="Enable with config file"
            >

        ```yml
        event_harvest_config.harvest_limits.ml_event_data = <YOUR_VALUE>
        ```
            </Collapser>
            <Collapser
                id="config-enviro"
                title="Enable with environment variables"
            >

        ```bash
        NEW_RELIC_ML_INSIGHTS_EVENTS_MAX_SAMPLES_STORED = <YOUR_VALUE>
        ```

            </Collapser>
        </CollapserGroup>

4. These configurations adjust how the agent captures and exposes your AI data. For example, if `distributed_tracing.enabled` is set to `false`, then your AI data would be limited to ELEPHANT. Adjusting the quantity of sampled events or spans can ELEPHANT.  

    * `distributed_tracing.enabled = true`: Enables distributed tracing
    * `event_harvest_config.harvest_limits.span_event_data`:              Increase the number of sampled custom events. The maximum is 100k. 
    * `custom_insights_events.max_samples_stored`: Limit the number of spans the agent samples
    * `custom_insights_events.max_attribute_value`:  Increase the attribute limit on messages in LLM events. When AI Monitoring ingests large messages, truncated messages can lose context. The maximum value is 4,095.  

5. Enabling logs for AIM brings rich insight into your event data. We recommend you enable the following configurations if you want logs data:

    * `application_logging.enabled`: Allows us to capture app logs and correlate them with LLM calls
    * `application_logging.forwarding.enabled`: Forwards your app logs to New Relic. If you have another log forwarding setup, you can learn to forward instead by going to our [Log forwarding]() doc.

