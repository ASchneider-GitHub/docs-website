---
componentType: default
headingText: Configure the PostgreSQL integration
---

1. Change directory to the integrations configuration folder by running:

```shell
cd /etc/newrelic-infra/integrations.d
```

2. Copy the sample configuration file by running:

```shell
sudo cp postgresql-config.yml.sample postgresql-config.yml
```

3. Edit the `postgresql-config.yml` file. This example config file collects all metrics:

```yml
integrations:
  - name: nri-postgresql
    env:
      USERNAME: postgres
      PASSWORD: pass
      HOSTNAME: psql-sample.localnet
      PORT: 6432
      DATABASE: postgres

      COLLECT_DB_LOCK_METRICS: false
      COLLECTION_LIST: 'ALL'
      TIMEOUT:  10
    interval: 15s
    labels:
      env: production
      role: postgresql
    inventory_source: config/postgresql
```


The `postgresql-config.yml`file is the integration's YAML-format configuration where you can place required login credentials and configure how data is collected. Which options you change depend on your setup and preference. The configuration file has common settings applicable to all integrations, such as `interval`, `timeout`, `inventory_source`. 

Specific settings related to PostgreSQL are defined using the env section of the `postgresql-config.yml`file. These settings control the connection to your PostgreSQL instance as well as other security settings and features.

You can find all the config options at the bottom of this doc along with more complex config examples.

