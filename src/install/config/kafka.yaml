agentName: kafka
agentType: integration
title: 'Kafka monitoring integration'
metaDescription: 'Here are several ways to install the Kafka integration'
introFilePath: 'src/install/kafka/intro.mdx'
redirects:
  - /docs/integrations/host-integrations/host-integrations-list/kafka-monitoring-integration
  - /docs/kafka-integration-new-relic-infrastructure
  - /docs/infrastructure/host-integrations/host-integrations-list/kafka-monitoring-integration
  - /docs/infrastructure/host-integrations/host-integrations-list/kafka/kafka-config
  - /docs/infrastructure/host-integrations/host-integrations-list/kafka/kafka-integration

# -----------------------------------------------------------------
# Define the categories for each type of environment:
# -----------------------------------------------------------------
appInfo: 
  - optionType: environment
    label: ''
    placeholder: 'xxx'
    options: 
      - value: 'linux'
        displayName: 'Linux'
        logo: 'linux'
      - value: 'windows'
        displayName: 'Windows'
        logo: 'windows'
      - value: 'ecs'
        displayName: 'ECS'
        logo: 'amazonECS'
      - value: 'kubernetes'
        displayName: 'Kubernetes'
        logo: 'k8'

# -----------------------------------------------------------------
# If Linux is selected, make a selection:
# -----------------------------------------------------------------
  - optionType: linux
    label: ''
    placeholder: 'Make a selection:'
    options:
      - value: 'apt'
        displayName: 'Install using Apt (Debian, Ubuntu)'
      - value: 'yum'
        logo: 'linux'      
        displayName: 'Install using Yum (Amazon Linux, CentOS, RHEL)'     
      - value: 'zypper'
        displayName: 'Install using Zypper (SLES)'     
        logo: 'linux'        
      - value: 'tar'
        displayName: 'Install from tarball (Other Linux distros)'        
        logo: 'linux'


# -----------------------------------------------------------------
# If Windows is selected, choose msi
# -----------------------------------------------------------------
  - optionType: windows
    label: ''
    placeholder: 'xxx'    
    options:
      - value: 'msi'
        displayName: 'Install using MSI files'
        logo: 'windows'


# ----------------------------------------------------
# Ask the user these questions about their environment:
# ----------------------------------------------------

steps:
# Question 1: Ask the user if they are instrumenting a non-web app:
  - filePath: 'src/install/kafka/appInfo.mdx'

# If Linux has been selected:
  - filePath: 'src/install/kafka/linux-yes.mdx'
    overrides:
      - isConditionalStep: true
        selectedOptions:
          - optionType: linux
            options:
              - value: 'apt'
              # Apply OR logic: docker-yes OR docker-no
              - value: 'yum'
          # Apply AND logic: docker-yes AND non-web-no
          - optionType: environment
            options:
              - value: 'linux'

# If Windows has been selected:  
  - filePath: 'src/install/kafka/windows-yes.mdx'
    overrides:
        - isConditionalStep: true
          selectedOptions:
            - optionType: windows
              options:
                - value: 'msi'
        - isConditionalStep: true
          selectedOptions:
            - optionType: environment
              options:
                - value: 'windows'

# --------------------------------------------------------------------
# Display steps with the Python content based on the user's responses:
# --------------------------------------------------------------------

# Install the infrastructure agent
  - filePath: 'src/install/kafka/install-infra.mdx'
    overrides:
      # First, display this for Docker yes/no plus any framework or server
      - isConditionalStep: true
        selectedOptions:
          # Apply OR logic: If docker-yes OR docker-no
          - optionType: environment
            options:
              - value: 'linux'
              - value: 'windows'
          # Apply AND logic: docker-yes AND a framework AND a server
          - optionType: linux
            options:
              - value: 'apt'
              - value: 'yum'
          # Add another AND logic:
          - optionType: windows
            options:
              - value: 'msi'

# Download the Kafka integration using APT
  - filePath: 'src/install/kafka/linux/install-apt.mdx'
    overrides:
      # First, display this for Docker yes/no plus any framework or server
      - isConditionalStep: true
        selectedOptions:
          # Apply OR logic: If docker-yes OR docker-no
          - optionType: environment
            options:
              - value: 'linux'
              - value: 'windows'
          # Apply AND logic: docker-yes AND a framework AND a server
          - optionType: linux
            options:
              - value: 'apt'
              - value: 'yum'
          # Add another AND logic:
          - optionType: windows
            options:
              - value: 'msi'



# Tell users what their next options are:
whatsNextFilePath: 'src/install/kafka/whatsNext.mdx'