---
title: Starting the New Relic agent to your watchOS project
tags:
  - Mobile monitoring
  - New Relic Mobile iOS
  - Installation
  - SwiftUI
  - WatchOS
metaDescription: How to properly setup your watchOS project with the New Relic agent.
freshnessValidatedDate: never
---

You can monitor your watchOS apps with New Relic by updating your project with some code. The following procedures will get you started with the New Relic for your watchOS project.

## Install New Relic to your watchOS application [#watchOS_App]

Because watchOS projects don't already contain an `ApplicationDelegate` or `ExtensionDelegate` class, you'll need to add them to your project. These delegates are necessary to configure and start the New Relic agent in a watchOS project. 

Before adding the AppDelegate, follow the [outlined procedure](/docs/mobile-monitoring/new-relic-mobile-ios/installation/spm-installation) to correctly install the New Relic agent. 

<Callout variant="important">
To ensure proper instrumentation, you must start the agent on the first line of `applicationDidFinishLaunching()`, and run the agent on the main thread. Starting the call later, on a background thread, or asynchronously can cause unexpected or unstable behavior.
</Callout>

### Enable New Relic with `WatchAppDelegate` [#add-watchappdelegate]

1. Create a `WatchAppDelegate.swift` file in your project, then add a class named `WatchAppDelegate` that inherits from `NSObject`. This class should conform to the `WKApplicationDelegate` protocol. 
1. Add the `applicationDidFinishLaunching` to the `WatchAppDelegate` class. As close to the start of the `applicationDidFinishLaunching` function, add `NewRelic.start(withApplicationToken: "APP_TOKEN")`. Be sure to replace `APP_TOKEN` with your[application token](/docs/mobile-apps/viewing-your-application-token). Your code might look like this:

    ```swift
    import WatchKit
    import NewRelic
        
    class WatchAppDelegate: NSObject, WKApplicationDelegate {
        func applicationDidFinishLaunching() {
                NewRelic.start(withApplicationToken: "APP_TOKEN")
                return true
            }
        }
    ```
1. In the main app structure object, add the following snippet: 

    ```swift
        import NewRelic

        @main
        struct Watch_App: App {
            @WKApplicationDelegateAdaptor var appDelegate: WatchAppDelegate
        }
    ```

## Enable New Relic with watchOS extension [#watchOS-extension]

1. Add the `WKExtensionDelegateClassName` key in your WatchKit extensionâ€™s `Info.plist` file. This automatically creates a delegate object named `ExtensionDelegate`. For more information [WKExtensionDelegate](https://developer.apple.com/documentation/watchkit/wkextensiondelegate).
1. In the `ExtensionDelegate` class you created, add the `applicationDidFinishLaunching` function. 
1. As close to the start of `applicationDidFinishLaunching` as possible add `NewRelic.start(withApplicationToken: "APP_TOKEN")` replacing `APP_TOKEN` with your [application token](/docs/mobile-apps/viewing-your-application-token). Your code might look like this:

    ```swift
    import WatckKit
    import NewRelic
        
    class ExtensionDelegate: NSObject, WKExtensionDelegate {
        func applicationDidFinishLaunching() {
                NewRelic.start(withApplicationToken: "APP_TOKEN")
                return true
            }
        }
    ```