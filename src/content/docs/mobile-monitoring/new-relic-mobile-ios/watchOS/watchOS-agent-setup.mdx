---
title: Starting the New Relic agent to your watchOS project
tags:
  - Mobile monitoring
  - New Relic Mobile iOS
  - Installation
  - SwiftUI
  - WatchOS
metaDescription: How to properly setup your watchOS project with the New Relic agent.
freshnessValidatedDate: never
---

WatchOS projects do not normally contain an ApplicationDelegate or ExtensionDelegate class. These delegates are necessary to configure and start the New Relic agent in a watchOS project. To add an AppDelegate to your watchOS application, follow the steps detailed here. Before adding the AppDelegate, follow the [outlined procedure](/docs/mobile-monitoring/new-relic-mobile-ios/installation/spm-installation) to correctly install the New Relic agent. 

## WatchOS Application [#watchOS_App]

1. Add a new file to your project named `WatchAppDelegate.swift`
2. Then in that file add a class named `WatchAppDelegate` that inherits from `NSObject` and conforms to the `WKApplicationDelegate` protocol. 
3. In the `WatchAppDelegate` class you created, add the `applicationDidFinishLaunching` function. 
4. As close to the start of `applicationDidFinishLaunching` as possible add `NewRelic.start(withApplicationToken: "APP_TOKEN")` replacing `APP_TOKEN` with your [application token](/docs/mobile-apps/viewing-your-application-token).

    <Callout variant="important">
        To ensure proper instrumentation, you must start the agent on the first line of `applicationDidFinishLaunching()`, and run the agent on the main thread. Starting the call later, on a background thread, or asynchronously can cause unexpected or unstable behavior.
    </Callout>
    
    ```swift
    import WatchKit
    import NewRelic
    
class WatchAppDelegate: NSObject, WKApplicationDelegate {
    func applicationDidFinishLaunching() {
            NewRelic.start(withApplicationToken: "APP_TOKEN")
            return true
        }
    }
    ```

5. In the main app structure object add the following line: `@WKApplicationDelegateAdaptor var appDelegate: WatchAppDelegate`. 

    ```swift
import NewRelic

@main
struct Watch_App: App {
    @WKApplicationDelegateAdaptor var appDelegate: WatchAppDelegate
    ```


## WatchOS Extension [#watchOS_Extention]

1. Add the `WKExtensionDelegateClassName` key in your WatchKit extensionâ€™s Info.plist file. This will create a delegate object automatically named `ExtensionDelegate`. For more information [WKExtensionDelegate](https://developer.apple.com/documentation/watchkit/wkextensiondelegate).
2. In the `ExtensionDelegate` class you created, add the `applicationDidFinishLaunching` function. 
3. As close to the start of `applicationDidFinishLaunching` as possible add `NewRelic.start(withApplicationToken: "APP_TOKEN")` replacing `APP_TOKEN` with your [application token](/docs/mobile-apps/viewing-your-application-token).

    <Callout variant="important">
        To ensure proper instrumentation, you must start the agent on the first line of `applicationDidFinishLaunching()`, and run the agent on the main thread. Starting the call later, on a background thread, or asynchronously can cause unexpected or unstable behavior.
    </Callout>
    
    ```swift
    import WatckKit
    import NewRelic
    
class ExtensionDelegate: NSObject, WKExtensionDelegate {
    func applicationDidFinishLaunching() {
            NewRelic.start(withApplicationToken: "APP_TOKEN")
            return true
        }
    }
    ```


These instructions are all you need to do to start the New Relic agent in the recommended way in your watchOS project.

<InstallFeedback />
