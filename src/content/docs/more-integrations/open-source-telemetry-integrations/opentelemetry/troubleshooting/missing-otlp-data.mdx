---
title: "Troubleshoot OpenTelemetry: Missing OTLP data"
tags:
  - Integrations
  - Open source telemetry integrations
  - OpenTelemetry
  - Troubleshooting
metaDescription: Troubleshoot tips for when you use OpenTelemetry with New Relic
freshnessValidatedDate: 2024-05-01
---

import moreintegrationsOtlpFacetQuery from 'images/more-integrations_screenshot-crop_otlp-facet-query.webp'

## Problem

You sent OpenTelemetry metrics, logs, or traces using OTLP, but you can't find the data in New Relic. 

## Solution

Before digging deeper, make sure you've checked the following:

* The OTLP endpoint configured matches one of our [documented endpoints](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/get-started/opentelemetry-set-up-your-app/#review-settings), is properly formatted, and includes the [default port for OTLP/gRPC](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.8.0/specification/protocol/otlp.md#otlpgrpc-default-port), 4317, or the [default port for OTLP/HTTP](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.8.0/specification/protocol/otlp.md#otlphttp-default-port), 4318. Port 443 is also supported for either transport. Please note the specific endpoint for FedRAMP compliance, if applicable.
* Confirm that you're using the correct endpoint based on your region. For example, if you're based in Europe and configure your exporter to send data to our US endpoint, data will fail to be exported because the endpoints are region-specific.
* The outbound traffic is not restricted by a firewall. Our [networks document](/docs/using-new-relic/cross-product-functions/install-configure/networks/#opentelemetry) explains which domains and network blocks you may need to explicitly allow.
* The client is configured to use TLS 1.2 or higher and the request includes the `api-key` header with a valid New Relic <InlinePopover type="licenseKey" />.
* Requests include valid protobuf payloads and use gRPC or HTTP transport, preferably with [gzip compression](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-concepts/#compression) enabled. Request payloads should be no larger than 1MB (10^6 bytes). [JSON-encoded protobuf](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.8.0/specification/protocol/otlp.md#otlphttp-connection) payloads are also supported.
* You might be receiving `4xx` or `5xx` response codes. Client output and logs do not show error response codes.

If you've checked the above, try out these New Relic features:

* Check your data management hub to [facet data ingest](/docs/data-apis/manage-data/manage-data-coming-new-relic/#facet-data-ingest) and determine how much data is arriving from various sources. 
* Use the [Metrics & events](/docs/query-your-data/explore-query-data/browse-data/introduction-data-explorer/#use-case-troubleshooting) page or [query builder](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-query-data) to look for data faceted by `instrumentation.provider` or `newrelic.source` attributes:

    ```sql
    FROM Log, Metric, Span SELECT datapointcount() WHERE instrumentation.provider = 'opentelemetry' FACET instrumentation.provider, newrelic.source
    ```

    <img
    title="Screenshot showing the data point count for logs, metrics, and traces faceted by instrumentation.provider and newrelic.source"
    alt="Screenshot showing the data point count for logs, metrics, and traces faceted by instrumentation.provider and newrelic.source"
    src={moreintegrationsOtlpFacetQuery}
    />

    This query should tell you whether data is arriving via OTLP. If the data you expect is not present, try this alternate query:

    ```sql
    FROM Log, Metric, Span SELECT count(*) where newrelic.source LIKE 'api.%.otlp'
    ```

* Check for integration errors by querying [`NrIntegrationError` events](/docs/data-apis/manage-data/nrintegrationerror/). This can help you determine whether you have configuration or format issues or if you've run into our platform limits.

<Callout variant="important">
  The ingest limits for metrics, logs, and traces via OTLP are the same as our other [data ingest API limits](/docs/data-apis/manage-data/view-system-limits/#data-ingest-api-limits).
</Callout>

Various parts of the New Relic UI rely on the presence of specific attributes to function properly. You can use the [NRQL console](/docs/query-your-data/explore-query-data/query-builder/nrql-console/) feature in many places to check the `WHERE` or `FACET` clauses of the query for required attributes. You can also edit those clauses and re-run the query to determine whether there is data present with those attributes missing. Examples of required attributes include `service.name` and `service.instance.id`. For a more complete list of examples, see [resources](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-concepts/#resources).

