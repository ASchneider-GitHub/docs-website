---
title: Install the New Relic Extension On Azure Arc
tags:
  - Infrastructure
  - Install NewRelic Extension
  - NewRelic Extension
  - Azure Arc Extension
metaDescription: New Relic's Extension For Azure Arc.
---
import azureArcExtension from 'images/Azure-arc-extension.webp'

import azureArcMetrics from 'images/Azure-Arc-Metrics.webp'

This documentation provides step-by-step instructions on how to install the New Relic Extension on an Azure Arc connected machine using the Azure Command-Line Interface (Azure CLI).

<CollapserGroup>
  <Collapser
    id="verbose-with-manifest"
    title="What Is Azure Arc?"
  >
    Azure Arc is a bridge that extends the Azure platform to help you build applications and services with the flexibility to run across datacenters, at the edge, and in multicloud environments. Develop cloud-native applications with a consistent development, operations, and security model.
  </Collapser>
</CollapserGroup>

## Prerequisites

Before you begin, ensure that you have:

- Azure CLI installed on your local machine.
- Azure Arc connected machine set up and registered in your Azure subscription.
- The necessary permissions to manage resources in the specified resource group.

## Installation Steps

### 1. Open a Terminal or Command Prompt

Open your terminal or command prompt on your local machine.

### 2. Run Azure CLI Commands

Execute the following commands in your terminal to install the New Relic Agent on your Azure Arc connected Machine:

#### For Linux-based Machines:

```bash
az connectedmachine extension create \
  --resource-group "your-resource-group" \
  --machine-name "your-machine-name" \
  --location "your-location" \
  --name NewRelicAgent \
  --publisher newrelic.infrastructure.extensions \
  --type newrelic-infra \
  --settings '{ "NR_LICENSE_KEY": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" }'
```

#### For Windows-based Machines:

```bash
az connectedmachine extension create \
  --resource-group "your-resource-group" \
  --machine-name "your-machine-name" \
  --location "your-location" \
  --name NewRelicAgent \
  --publisher newrelic.infrastructure.extensions \
  --type newrelic-infra \
  --settings '{ "NR_LICENSE_KEY": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" }'
```
Replace placeholders like "your-resource-group," "your-machine-name," and "your-location" with your actual resource group, machine name, and location.

### 3. Verification
Verify that the installation was successful by checking the New Relic Agent status on your Azure Arc connected machine.
1. Azure Portal -
<img
    title="azureArcExtension.webp"
    alt="Azure Arc Extension"
    src={azureArcExtension}
/>
2. Monitor Azure Arc Connected VM Metrics on NewRelic
    <img
      title="azureArcMetrics.webp"
      alt="Azure Arc NewRelic Metics"
      src={azureArcMetrics}
    />