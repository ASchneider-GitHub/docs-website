---
title: 'Generically named transactions Middleware/Rack/ActionDispatch::Routing::RouteSet#call in APM UI'
type: troubleshooting
tags:
  - Agents
  - Ruby agent
  - Troubleshooting
metaDescription: 'Find out what to do if you see transactions named Middleware/Rack/ActionDispatch::Routing::RouteSet#call in your APM UI.'
---

## Problem

You are seeing transactions in the APM UI named `Middleware/Rack/ActionDispatch::Routing::RouteSet#call` and you are not sure what they are.


## Cause

Transactions with the name `Middleware/Rack/ActionDispatch::Routing::RouteSet#call` represent a route in your rails app that gets routed to code that is not instrumented by New Relic. Since the rails middleware is instrumented, New Relic is able to capture the time spent on the transaction, but is unable to provide any additional details about the transaction due to the lack of instrumentation.


## Solution

There are a variety of situations that can lead to transactions named `Middleware/Rack/ActionDispatch::Routing::RouteSet#call`. The most common are listed below.

#### Routes to a controller that does not inherit from ActionController::Base
 
The New Relic Ruby agent instruments controllers by inserting instrumentation into `ActionController::Base`. If the controller being routed to does not inherit from `ActionController::Base`, the agent will not be able to automatically instrument the controller. To resolve this issue, you can include the new relic instrumentation directly in your controller by adding the following to your controller.

```ruby
include NewRelic::Agent::Instrumentation::ControllerInstrumentation
```

#### Routes to a gem that is not instrumented by New Relic

If there is a route in your application that routes to a gem that is not instrumented by New Relic, you will only see the instrumentation for the rails middleware, which will result in a transaction with this name. To address this, you can use custom instrumentation in your application to insert New Relic instrumentation into the gem. 


In general, adding custom instrumentation to your application is the best way to get more details about these transactions. You can find more information about custom instrumentation in our [Ruby agent documentation](https://docs.newrelic.com/docs/agents/ruby-agent/installation-configuration/ruby-custom-instrumentation).

