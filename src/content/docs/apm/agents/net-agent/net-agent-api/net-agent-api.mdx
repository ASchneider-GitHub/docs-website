---
title: .NET agent API
tags:
  - Agents
  - NET agent
  - API guides
metaDescription: 'A goal-focused guide to the New Relic .NET agent API.'
redirects:
  - /docs/agents/net-agent/api-guides/guide-using-net-agent-api
  - /docs/agents/net-agent/net-agent-api/net-agent-api-guide
  - /docs/agents/net-agent/net-agent-api/guide-using-net-agent-api
  - /docs/apm/agents/net-agent/net-agent-api
  - /docs/apm/agents/net-agent/api-guides/guide-using-net-agent-api
  - /docs/agents/net-agent/net-agent-api
  - /docs/agents/net-agent/features/net-agent-api
  - /docs/apm/agents/net-agent/net-agent-api/guide-using-net-agent-api
freshnessValidatedDate: never
---

New Relic's .NET agent includes an API that allows you to extend the agent's standard functionality. For example, you can use the .NET agent API for:

* Customizing your app name
* Creating custom transaction parameters
* Reporting custom errors and metrics

You can also customize some of the .NET agent's default behavior by adjusting [configuration settings](/docs/agents/net-agent/configuration/net-agent-configuration) or using [custom instrumentation](/docs/agents/net-agent/custom-instrumentation/introduction-net-custom-instrumentation).

## Requirements

<Callout variant="important">
  As of September 2021, a small subset of APIs, configuration options, and installation options for .NET will be replaced by new methods. For more details, including how you can easily prepare for this transition, see our [Support Forum post](https://discuss.newrelic.com/t/important-upcoming-changes-to-support-and-capabilities-across-browser-node-js-agent-query-builder-net-agent-apm-errors-distributed-tracing/153373).
</Callout>

To use the .NET agent API, make sure you have the [latest .NET agent release](/docs/release-notes/agent-release-notes/net-release-notes). Then, add a reference to the agent in your project using one of the two options below:

   * Add a reference to `NewRelic.Api.Agent.dll` to your project.
    
    OR

   * View and download the API package from the [NuGet Package Library](https://www.nuget.org/packages/NewRelic.Agent.Api/).

   The following list contains the different calls you can make with the API, including syntax, requirements, functionality, and examples:

<CollapserGroup>
    <Collapser
        id="DisableBrowserMonitoring"
        title="DisableBrowserMonitoring"
    >
    ### Syntax

        ```cs
        NewRelic.Api.Agent.NewRelic.DisableBrowserMonitoring([boolean $override])
        ```

        Disable automatic injection of browser monitoring snippet on specific pages.

    ### Requirements

    Compatible with all agent versions.

    Must be called inside a [transaction](/docs/glossary/glossary/#transaction).

    ### Description

    Add this call to disable the <DoNotTranslate>**automatic**</DoNotTranslate> injection of [<InlinePopover type="browser" />](/docs/browser/new-relic-browser/getting-started/new-relic-browser) scripts on specific pages. You can also add an optional override to disable <DoNotTranslate>**both**</DoNotTranslate> manual and automatic injection. In either case, put this API call as close as possible to the top of the view in which you want browser disabled.

    <Callout variant="tip">
    Compare [`GetBrowserTimingHeader()`](/docs/agents/net-agent/net-agent-api/getbrowsertimingheader-net-agent), which <DoNotTranslate>**adds**</DoNotTranslate> the browser script to the page.
    </Callout>

    ### Parameters

    <table>
    <thead>
        <tr>
        <th width="25%">
            Parameter
        </th>

        <th>
            Description
        </th>
        </tr>
    </thead>

    <tbody>
        <tr>
        <td>
            `$override`

            _boolean_
        </td>

        <td>
            Optional. When `true`, disables all injection of browser scripts. This flag affects both manual and automatic injection. This also overrides the [`GetBrowserTimingHeader()`](/docs/agents/net-agent/net-agent-api/getbrowsertimingheader-net-agent) call.
        </td>
        </tr>
    </tbody>
    </table>

    ### Examples

    #### Disable automatic injection [#automatic-only]

    This example disables only the <DoNotTranslate>**automatic**</DoNotTranslate> injection of the snippet:

    ```cs
    NewRelic.Api.Agent.NewRelic.DisableBrowserMonitoring();
    ```

    #### Disable automatic and manual injection [#disable-both]

    This example disables <DoNotTranslate>**both**</DoNotTranslate> automatic and manual injection of the snippet:

    ```cs
    NewRelic.Api.Agent.NewRelic.DisableBrowserMonitoring(true);
    ```
    </Collapser>
    <Collapser
        id="GetAgent"
        title="GetAgent"
    >
    ### Syntax

    ```cs
    NewRelic.Api.Agent.NewRelic.GetAgent()
    ```

    Get access to the agent via the `IAgent` interface.

    ### Requirements

    Agent version 8.9 or higher.

    Compatible with all app types.

    ### Description

    Get access to agent API methods via the [`IAgent`](/docs/agents/net-agent/net-agent-api/iagent) interface.

    ### Return values

    An implementation of [IAgent](/docs/agents/net-agent/net-agent-api/iagent-net-agent-api) providing access to the [IAgent API](/docs/agents/net-agent/net-agent-api/iagent-net-agent-api).

    ### Examples

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    ```

    </Collapser>
    <Collapser
        id="GetBrowserTimingHeader"
        title="GetBrowserTimingHeader"
    >
    ### Syntax

    ```cs
    NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader();
    NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader(string nonce);
    ```

    Generate a browser monitoring HTML snippet to instrument end-user browsers.

    ### Requirements

    Compatible with all agent versions.

    Must be called inside a [transaction](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).



    ### Description

    Returns an HTML snippet used to enable [<InlinePopover type="browser" />](/docs/browser/new-relic-browser/getting-started/new-relic-browser). The snippet instructs the browser to fetch a small JavaScript file and start the page timer. You can then insert the returned snippet into the header of your HTML webpages. For more information, see [Adding apps to Browser monitoring](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser).

    <Callout variant="tip">
    Compare [`DisableBrowserMonitoring()`](/docs/agents/net-agent/net-agent-api/disablebrowsermonitoring-net-agent), which <DoNotTranslate>**disables**</DoNotTranslate> the browser script on a page.
    </Callout>

    ### Parameters

    <table>
    <thead>
        <tr>
        <th width="25%">
            Parameter
        </th>

        <th>
            Description
        </th>
        </tr>
    </thead>

    <tbody>
        <tr>
        <td>
            `nonce`

            _string_
        </td>

        <td>
            The per-request, cryptographic nonce used by Content-Security-Policy policies.
        </td>
        </tr>
    </tbody>
    </table>

    <Callout variant="tip">
    This API call requires updates to security allow lists. For more information about Content Security Policy (CSP) considerations, visit the [browser monitoring compatibility and requirements](/docs/browser/new-relic-browser/getting-started/compatibility-requirements-browser-monitoring) page.
    </Callout>

    ### Return values

    An HTML string to be embedded in a page header.

    ### Examples

    #### With ASPX [#aspx]

    ```aspnet
    <html>
    <head>
        <%= NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader()%>
        ...
    </head>
    <body>
    ...
    ```

    ```aspnet
    <html>
    <head>
        <%= NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE")%>
        ...
    </head>
    <body>
    ...
    ```

    #### With Razor [#razor]

    ```cshtml
    <!DOCTYPE html>
    <html lang="en">
    <head>
        @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader())
        ...
    </head>
    <body>
    ...
    ```

    ```cshtml
    <!DOCTYPE html>
    <html lang="en">
    <head>
        @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE"))
        ...
    </head>
    <body>
    ...
    ```

    #### With Blazor [#blazor]

    <Callout variant="important">
    This API is not supported for Blazor Webassembly, because the agent is unable to instrument Webassembly code.  The following examples are for Blazor Server applications only.  Use the [copy-paste method](/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent/#copy-paste) of adding the browser agent to Blazor Webassembly pages.
    </Callout>

    <Callout variant="important">
    This API can not be placed in a `<HeadContent>` element of a `.razor` page.  Instead, it should be called from `_Layout.cshtml` or an equivalent layout file.
    </Callout>

    ```cshtml
    <!DOCTYPE html>
    <html lang="en">
    <head>
        @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader())
        ...
    </head>
    <body>
    ...
    ```

    ```cshtml
    <!DOCTYPE html>
    <html lang="en">
    <head>
        @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE"))
        ...
    </head>
    <body>
    ...
    ```

    </Collapser>
    <Collapser
        id="GetLinkingMetadata"
        title="GetLinkingMetadata"
    >
    ### Syntax

    ```cs
    NewRelic.Api.Agent.NewRelic.GetLinkingMetadata();
    ```

    Returns key/value pairs which can be used to link traces or entities.

    ### Requirements

    Agent version 8.19 or higher.

    Compatible with all app types.

    ### Description

    The Dictionary of key/value pairs returned includes items used to link traces and entities in the APM product. It will only contain items with meaningful values. For instance, if distributed tracing is disabled, `trace.id` will not be included.

    ### Return values

    `Dictionary <string, string>()` returned includes items used to link traces and entities in the APM product.

    ### Examples

    ```cs
    NewRelic.Api.Agent.IAgent Agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    var linkingMetadata = Agent.GetLinkingMetadata();
    foreach (KeyValuePair<string, string> kvp in linkingMetadata)
    {
        Console.WriteLine("Key = {0}, Value = {1}", kvp.Key, kvp.Value);
    }
    ```

    </Collapser>
    <Collapser
        id="IAgent"
        title="IAgent"
    >
        ### Syntax

            ```cs
            public interfac IAgent
            ```

        Provides access to agent artifacts and methods, such as the currently executing transaction.

        ### Requirements

        Agent version 8.9 or higher.

        Compatible with all app types.

        ### Description

        Provides access to agent artifacts and methods, such as the currently executing transaction. To obtain a reference to `IAgent`, use [`GetAgent`](/docs/agents/net-agent/net-agent-api/getagent).

        ### Properties

        <table>
        <thead>
            <tr>
            <th width="25%">
                Name
            </th>

            <th>
                Description
            </th>
            </tr>
        </thead>

        <tbody>
            <tr>
            <td>
                CurrentTransaction
            </td>

            <td>
                Property providing access to the currently executing transaction via the [ITransaction](/docs/agents/net-agent/net-agent-api/itransaction) interface. Must be called inside a [transaction](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).
            </td>
            </tr>

            <tr>
            <td>
                CurrentSpan
            </td>

            <td>
                Property providing access to the currently executing span via the [ISpan](/docs/agents/net-agent/net-agent-api/iSpan) interface.
            </td>
            </tr>
        </tbody>
        </table>

        ### Examples

        ```cs
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
        ITransaction transaction = agent.CurrentTransaction;
        ```

        </Collapser>
        <Collapser
            id="ITransaction"
            title="ITransaction"
        >
    ### Syntax

    ```cs
    public interfac ITransaction
    ```

    Provides access to transaction-specific methods in the New Relic API.

    ### Description

    Provides access to transaction-specific methods in the New Relic .NET agent API. To obtain a reference to `ITransaction`, use the current transaction method available on [`IAgent`](/docs/agents/net-agent/net-agent-api/iagent).

    The following methods are available on `ITransaction`:

    <table>
    <thead>
        <tr>
        <th>
            Name
        </th>

        <th>
            Description
        </th>
        </tr>
    </thead>

    <tbody>
        <tr>
        <td>
            [`AcceptDistributedTraceHeaders`](#acceptdistributedtraceheaders)
        </td>

        <td>
            Accepts incoming trace context headers from another service.
        </td>
        </tr>

        <tr>
        <td>
            [`InsertDistributedTraceHeaders`](#insertdistributedtraceheaders)
        </td>

        <td>
            Adds trace context headers to an outgoing request.
        </td>
        </tr>

        <tr>
        <td>
            [`AcceptDistributedTracePayload` (obsolete)](#acceptdistributedtracepayload)
        </td>

        <td>
            Accepts an incoming distributed trace payload from another service.
        </td>
        </tr>

        <tr>
        <td>
            [`CreateDistributedTracePayload` (obsolete)](#createdistributedtracepayload)
        </td>

        <td>
            Creates a distributed trace payload for inclusion in an outgoing request.
        </td>
        </tr>

        <tr>
        <td>
            [`AddCustomAttribute`](#addcustomattribute)
        </td>

        <td>
            Add contextual information from your application to the current transaction in form of attributes.
        </td>
        </tr>

        <tr>
        <td>
            [`CurrentSpan`](#currentspan)
        </td>

        <td>
            Provides access to the currently executing [span](/docs/agents/net-agent/net-agent-api/ispan), which provides access to span-specific methods in the New Relic API.
        </td>
        </tr>

        <tr>
        <td>
            [`SetUserId`](#setuserid)
        </td>

        <td>
            Associates a User Id to the current transaction.
        </td>
        </tr>
    </tbody>
    </table>
    <CollapserGroup>
    <Collapser
        id="AcceptDistributedTraceHeaders"
        title="AcceptDistributedTraceHeaders"
    >
        `ITransaction.AcceptDistributedTraceHeaders` is used to instrument the called service for inclusion in a distributed trace. It links the spans in a trace by accepting a payload generated by [`InsertDistributedTraceHeaders`](/docs/agents/nodejs-agent/api-guides/nodejs-agent-api#transaction-handle-insertDistributedTraceHeaders) or generated by some other W3C Trace Context compliant tracer. This method accepts the headers of an incoming request, looks for W3C Trace Context headers, and if not found, falls back to New Relic distributed trace headers. This method replaces the deprecated [`AcceptDistributedTracePayload`](/docs/agents/net-agent/net-agent-api/itransaction#acceptdistributedtracepayload) method, which only handles New Relic distributed trace payloads.

        ### Syntax

        ```cs
        void AcceptDistributedTraceHeaders(carrier, getter, transportType)
        ```

        ### Parameters

        <table>
        <thead>
            <tr>
            <th>
                Name
            </th>

            <th>
                Description
            </th>
            </tr>
        </thead>

        <tbody>
            <tr>
            <td>
                `carrier`

                _&lt;T>_
            </td>

            <td>
                Required. Source of incoming Trace Context headers.
            </td>
            </tr>

            <tr>
            <td>
                `getter`

                _Func&lt;T, string, IEnumerable&lt;string>>_
            </td>

            <td>
                Required. Caller-defined function to extract header data from the carrier.
            </td>
            </tr>

            <tr>
            <td>
                `transportType`

                _TransportType enum_
            </td>

            <td>
                Required. Describes the transport of the incoming payload (for example `TransportType.HTTP`).
            </td>
            </tr>
        </tbody>
        </table>

        ### Usage considerations

        * [Distributed tracing must be enabled](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).
        * `AcceptDistributedTraceHeaders` will be ignored if `InsertDistributedTraceHeaders` or `AcceptDistributedTraceHeaders` has already been called for this transaction.

        ### Example

        ```cs
        HttpContext httpContext = HttpContext.Current;
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
        ITransaction currentTransaction = agent.CurrentTransaction;
        currentTransaction.AcceptDistributedTraceHeaders(httpContext, Getter, TransportType.HTTP);
        IEnumerable<string> Getter(HttpContext carrier, string key) 
        { 
            string value = carrier.Request.Headers[key];   
            return value == null ? null : new string[] { value }; 
        }
        ```
    </Collapser>
    <Collapser
        id="InsertDistributedTraceHeaders"
        title="InsertDistributedTraceHeaders"
    >
        `ITransaction.InsertDistributedTraceHeaders` is used to implement distributed tracing. It modifies the carrier object that is passed in by adding W3C Trace Context headers and New Relic Distributed Trace headers. The New Relic headers can be disabled with `<distributedTracing excludeNewrelicHeader="true" />` in the config. This method replaces the deprecated [`CreateDistributedTracePayload`](/docs/agents/net-agent/net-agent-api/itransaction#createdistributedtracepayload) method, which only creates New Relic Distributed Trace payloads.

        ### Syntax

        ```cs
        void InsertDistributedTraceHeaders(carrier, setter)
        ```

        ### Parameters

        <table>
        <thead>
            <tr>
            <th>
                Name
            </th>

            <th>
                Description
            </th>
            </tr>
        </thead>

        <tbody>
            <tr>
            <td>
                `carrier`

                _&lt;T>_
            </td>

            <td>
                Required. Container where Trace Context headers are inserted..
            </td>
            </tr>

            <tr>
            <td>
                `setter`

                _Action&lt;T, string, string>_
            </td>

            <td>
                Required. Caller-defined Action to insert header data into the carrier.
            </td>
            </tr>
        </tbody>
        </table>

        ### Usage considerations

        * [Distributed tracing must be enabled](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).

        ### Example

        ```cs
        HttpWebRequest requestMessage = (HttpWebRequest)WebRequest.Create("https://remote-address");
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
        ITransaction currentTransaction = agent.CurrentTransaction;
        var setter = new Action<HttpWebRequest, string, string>((carrier, key, value) => { carrier.Headers?.Set(key, value); });
        currentTransaction.InsertDistributedTraceHeaders(requestMessage, setter);
        ```
    </Collapser>
    <Collapser
        id="AcceptDistributedTracePayload"
        title="AcceptDistributedTracePayload"
    >

    <Callout variant="caution">
    This API is not available in the .NET agent v9.0 or higher. Please use [`AcceptDistributedTraceHeaders`](/docs/agents/net-agent/net-agent-api/itransaction/#acceptdistributedtraceheaders) instead.
    </Callout>

    Accepts an incoming distributed trace payload from an upstream service. Calling this method links the transaction from the upstream service to this transaction.

    ### Syntax

    ```cs
    void AcceptDistributedPayload(payload, transportType)
    ```

    ### Parameters

    <table>
    <thead>
        <tr>
        <th>
            Name
        </th>

        <th>
            Description
        </th>
        </tr>
    </thead>

    <tbody>
        <tr>
        <td>
            `payload`

            _string_
        </td>

        <td>
            Required. A string representation of the incoming distributed trace payload.
        </td>
        </tr>

        <tr>
        <td>
            `transportType`

            _TransportType_  
                                    _enum_
        </td>

        <td>
            Recommended. Describes the transport of the incoming payload (for example, `http`).

            Default `TransportType.Unknown`.
        </td>
        </tr>
    </tbody>
    </table>

    ### Usage considerations

    * [Distributed tracing must be enabled](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).
    * The payload can be a Base64-encoded or plain text string.
    * `AcceptDistributedTracePayload` will be ignored if `CreateDistributedTracePayload` has already been called for this transaction.

    ### Example

    ```cs
    //Obtain the information from the request object from the upstream caller.
    //The method by which this information is obtain is specific to the transport 
    //type being used. For example, in an HttpRequest, this information is
    //contained in the 
    header.KeyValuePair<string, string> metadata = GetMetaDataFromRequest("requestPayload");
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
    ITransaction transaction = agent.CurrentTransaction; 
    transaction.AcceptDistributedTracePayload(metadata.Value, TransportType.Queue);
    ```

    </Collapser>
    <Collapser
        id="CreateDistributedTracePayload"
        title="CreateDistributedTracePayload (obsolete)"
    >
    <Callout variant="caution">
    This API is not available in the .NET agent v9.0 or higher. Please use [`InsertDistributedTraceHeaders`](/docs/agents/net-agent/net-agent-api/itransaction/#insertdistributedtraceheaders) instead.
    </Callout>

    Creates a distributed trace payload for inclusion in an outgoing request to a downstream system.

    ### Syntax

    ```cs
    IDistributedTracePayload CreateDistributedTracePayload()
    ```

    ### Returns

    An object that implements `IDistributedTracePayload` which provides access to the distributed trace payload that was created.

    ### Usage considerations

    * [Distributed tracing must be enabled](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).
    * `CreateDistributedTracePayload` will be ignored if `AcceptDistributedTracePayload` has already been called for this transaction.

    ### Example

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    ITransaction transaction = agent.CurrentTransaction;
    IDistributedTracePayload payload = transaction.CreateDistributedTracePayload();
    ```

    </Collapser>
    <Collapser
        id="AddCustomAttribute"
        title="AddCustomAttribute"
    >
    Adds contextual information about your application to the current transaction in the form of [attributes](/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute).

    This method requires .NET agent version and .NET agent API [version 8.24.244.0](/docs/release-notes/agent-release-notes/net-release-notes/net-agent-8242440) or higher. It replaced the deprecated [`AddCustomParameter`](/docs/agents/net-agent/net-agent-api/add-custom-parameter).

    ### Syntax

    ```cs
    ITransaction AddCustomAttribute(string key, object value)
    ```

    ### Parameters

    <table>
    <thead>
        <tr>
        <th>
            Parameter
        </th>

        <th>
            Description
        </th>
        </tr>
    </thead>

    <tbody>
        <tr>
        <td>
            `key`

            _string_
        </td>

        <td>
            Identifies the information being reported. Also known as the name.

            * Empty keys are not supported.
            * Keys are limited to 255-bytes. Attributes with keys larger than 255-bytes will be ignored.
        </td>
        </tr>

        <tr>
        <td>
            `value`

            _object_
        </td>

        <td>
            The value being reported.
            
            <DoNotTranslate>**Note**</DoNotTranslate>: `null` values will not be recorded.
            
            <table>
            <thead>
                <tr>
                <th>
                    .NET type
                </th>

                <th>
                    How the value will be represented
                </th>
                </tr>
            </thead>

            <tbody>
                <tr>
                <td>
                    `byte`, `Int16`, `Int32`, `Int64`

                    `sbyte`, `UInt16`, `UInt32`, `UInt64`
                </td>

                <td>
                    As an integral value.
                </td>
                </tr>

                <tr>
                <td>
                    `float`, `double`, `decimal`
                </td>

                <td>
                    A decimal-based number.
                </td>
                </tr>

                <tr>
                <td>
                    `string`
                </td>

                <td>
                    A string truncated after 255-bytes.

                    Empty strings are supported.
                </td>
                </tr>

                <tr>
                <td>
                    `bool`
                </td>

                <td>
                    True or false.
                </td>
                </tr>

                <tr>
                <td>
                    `DateTime`
                </td>

                <td>
                    A string representation following the ISO-8601 format, including time zone information:

                    Example: `2020-02-13T11:31:19.5767650-08:00`
                </td>
                </tr>

                <tr>
                <td>
                    `TimeSpan`
                </td>

                <td>
                    A decimal-based number representing number of seconds.
                </td>
                </tr>

                <tr>
                <td>
                    everything else
                </td>

                <td>
                    The `ToString()` method will be applied. Custom types must have an implementation of `Object.ToString()` or they will throw an exception.
                </td>
                </tr>
            </tbody>
            </table>

        </td>
        </tr>
    </tbody>
    </table>

    ### Returns

    A reference to the current transaction.

    ### Usage considerations

    For details about supported data types, see the [Custom Attributes Guide](/docs/agents/net-agent/attributes/custom-attributes).

    ### Example

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    ITransaction transaction = agent.CurrentTransaction;
    transaction.AddCustomAttribute("customerName","Bob Smith")
        .AddCustomAttribute("currentAge",31)
        .AddCustomAttribute("birthday", new DateTime(2000, 02, 14))
        .AddCustomAttribute("waitTime", TimeSpan.FromMilliseconds(93842));
    ```
    </Collapser>
    <Collapser
        id="CurrentSpan"
        title="CurrentSpan"
    >
    
    Provides access to the currently executing [span](/docs/apm/agents/net-agent/net-agent-api/ispan/), making [span-specific methods](/docs/apm/agents/net-agent/net-agent-api/ispan) available within the New Relic API.

    ### Example

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
    ITransaction transaction = agent.CurrentTransaction; 
    ISpan currentSpan = transaction.CurrentSpan;
    ```

    </Collapser>
    <Collapser
        id="SetUserId"
        title="SetUserId"
    >
    Associates a User Id with the current transaction.

    This method requires .NET agent and .NET agent API [version 10.9.0](/docs/release-notes/agent-release-notes/net-release-notes/net-agent-1090) or higher.

    ### Syntax

    ```cs
    ITransaction SetUserId(string userId)
    ```

    ### Parameters

    <table>
    <thead>
        <tr>
        <th>
            Parameter
        </th>

        <th>
            Description
        </th>
        </tr>
    </thead>

    <tbody>
        <tr>
        <td>
            `userId`

            _string_
        </td>

        <td>
            The User Id to be associated with this transaction.

            * `null`, empty and whitespace values will be ignored.
        </td>
        </tr>

    </tbody>
    </table>

    ### Example

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
    ITransaction transaction = agent.CurrentTransaction; 
    transaction.SetUserId("BobSmith123");
    ```
    </Collapser>
</CollapserGroup>
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
    <Collapser
        id="INSERT_ID_HERE"
        title="INSERT_TITLE_HERE"
    >
        INSERT_TEXT_HERE
    </Collapser>
</CollapserGroup>