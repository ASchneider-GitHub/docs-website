---
title: Install the .NET agent on AWS Elastic Beanstalk
tags:
  - Agents
  - NET agent
  - Other installation
metaDescription: How to install the APM .NET agent on AWS Elastic Beanstalk.
redirects:
  - /docs/agents/net-agent/install-guides/install-net-agent-on-aws-elastic-beanstalk
freshnessValidatedDate: never
---

This document explains how to install the .NET agent on AWS Elastic Beanstalk. 

## Install agent on AWS Elastic Beanstalk [#elastic-beanstalk]

Installing and configuring the .NET agent on AWS Elastic Beanstalk requires the use of a [custom configuration file](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/ebextensions.html), placed at the root of your application source bundle. The examples below install both the New Relic .NET agent and the [New Relic Infrastructure agent](/docs/aws-elasticbeanstalk-integration). The Infrastructure agent is optional but recommended.

   <CollapserGroup>
     <Collapser
       id="elastic-beanstalk-windows"
       title="Configuration for Windows deployment on AWS Elastic Beanstalk"
     >
       Create a `.ebextensions` folder at the root of your application and add the following file to it:
        
        `01-new-relic-install.config`

       ```ini
       packages:  
         msi:
           # install the latest version of both the New Relic infrastructure agent and the .NET agent
           # To install a specific version, update the path to both msi files
           infrastructure: https://download.newrelic.com/infrastructure_agent/windows/newrelic-infra.msi
           dotnet: https://download.newrelic.com/dot_net_agent/latest_release/NewRelicDotNetAgent_x64.msi
       commands: 
         01_stop-newrelic-infra:
           command: net stop newrelic-infra
           ignoreErrors: true
         02_start-newrelic-infra:
           command: net start newrelic-infra
           ignoreErrors: true
       option_settings:
         aws:elasticbeanstalk:application:environment:
           # Environment variables for the New Relic .NET Agent
           NEW_RELIC_LICENSE_KEY: '(your license key here)'
           NEW_RELIC_APP_NAME: '(your app name here)'
           # Environment variables for the New Relic Infrastructure Agent
           NRIA_LICENSE_KEY: '(your license key here)'
       ```

       Add your license key and application name

       The <InlinePopover type="licenseKey" /> and app name aren't required environment variables; they [can be set in other ways](/docs/agents/net-agent/installation/net-agent-install-resources#env-variables).
     </Collapser>

     <Collapser
       id="elastic-beanstalk-linux"
       title="Configuration for Amazon Linux 2023 deployment on AWS Elastic Beanstalk"
     >
       Create a `.ebextensions` folder at the root of your application and add the following file to it:
        
        `01-new-relic-install.config`

       ```ini
       files:
         # Create the dotnet agent YUM repo definition
         "/etc/yum.repos.d/newrelic-dotnet-agent.repo":
           owner: root
           group: root
           content: |
           [newrelic-dotnet-agent-repo]
           name=New Relic .NET Core packages for Enterprise Linux
           baseurl=https://yum.newrelic.com/pub/newrelic/el7/$basearch
           enabled=1
           gpgcheck=1
           gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-NewRelic
       commands: 
         # Install the New Relic infrastructure agent. This step is optional but recommended.
         01_install_newrelic_infra:
           command: |
           sudo curl -o /etc/yum.repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/yum/amazonlinux/2023/x86_64/newrelic-infra.repo
           sudo yum -q makecache -y --disablerepo='*' --enablerepo='newrelic-infra'
           sudo yum install newrelic-infra -y1
         # install the dotnet agent.
         02_install_dotnet_agent:
           command: |
           sudo curl -o /etc/pki/rpm-gpg/RPM-GPG-KEY-NewRelic https://download.newrelic.com/548C16BF.gpg
           sudo rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-NewRelic
           sudo yum -q makecache -y --disablerepo='*' --enablerepo='newrelic-dotnet-agent-repo'
           # this command installs the latest version of the dotnet agent.
           sudo yum install newrelic-dotnet-agent -y
           # to install a specific version, use something like the following:
           # sudo yum install newrelic-dotnet-agent-10.24.0-1.x86_64
       option_settings:
         aws:elasticbeanstalk:application:environment:
           # Environment variables for the New Relic .NET Agent
           CORECLR_ENABLE_PROFILING: '1'
           CORECLR_PROFILER: '{36032161-FFC0-4B61-B559-F6C5D41BAE5A}'
           CORECLR_NEWRELIC_HOME: '/usr/local/newrelic-dotnet-agent'
           CORECLR_PROFILER_PATH: '/usr/local/newrelic-dotnet-agent/libNewRelicProfiler.so'
           NEW_RELIC_LICENSE_KEY: '(your license key here)'
           NEW_RELIC_APP_NAME: '(your app name here)'
           # Environment variables for the New Relic Infrastructure Agent
           NRIA_LICENSE_KEY: '(your license key here)'
       ```
       The <InlinePopover type="licenseKey" /> and app name aren't required environment variables; they [can be set in other ways](/docs/agents/net-agent/installation/net-agent-install-resources#env-variables).
     </Collapser>
   </CollapserGroup>