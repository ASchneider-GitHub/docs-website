---
title: Install IAST
tags:
    - New Relic IAST
    - IAST
    - Installation
metaDescription: Learn how to install New Relic IAST.
freshnessValidatedDate: never
---

import iastSetup from 'images/iast_screenshot-full_install.webp'

import iastInstall from 'images/iast_screenshot-crop_install.webp'

<Callout variant="important">
    Run IAST with non-production deployments only. IAST tests by invoking HTTP requests with an exploit payload. You must use IAST in non-production environments with only simulated data to avoid both data corruption and introducing exploits into your live code. In addition, when you run IAST on new code in pre-production, you catch potential vulnerabilities before they go live.

</Callout>

To install New Relic IAST:

<Steps>
    <Step>
    Go to <DNT>**[one.newrelic.com](https://one.newrelic.com) > All capabilities > IAST**</DNT> and click <DNT>**Set up IAST with applications**</DNT> or <DNT>**Install**</DNT>.

    <img
        title="Set up IAST with applications"
        alt="Set up IAST with applications"
        src={iastSetup}
    />    
    </Step>
    <Step>
    Confirm that IAST isn't running in a production environment, and agree to the [service specific terms](https://newrelic.com/termsandconditions/service-specific),  and then click <DNT>**Continue**</DNT>.    
    </Step>
    <Step>
    Select the  programming language of your application, update the respective APM agent, and click **Next**.

    <img
        title="Install New Relic IAST"
        alt="Install New Relic IAST"
        src={iastInstall}
    />    
    </Step>
    <Step>
    Based on the selected programming language, setup your security agent as follows and click **Next**.


<Tabs>
  <TabsBar>
    <TabsBarItem id="1">Java</TabsBarItem>
    <TabsBarItem id="2">Node.js</TabsBarItem>
    <TabsBarItem id="3">Go</TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="1">    
   Set the `security.enabled` and `security.agent.enabled` flag to true as follows in the `newrelic.yml` config file:

   ```
   security:
  enabled: true
  agent:
    enabled: true 
   ```

 </TabsPageItem>
    <TabsPageItem id="2">
    Set the `security.enabled` and `security.agent.enabled` flag to true as follows in the `newrelic.js` config file present at the root directory of your application.

    ```
security: {
  agent: {
    enabled: true,
  },
  enabled: true,
}
    ```
    
    
    </TabsPageItem>
    <TabsPageItem id="3">


1. Add this integration to your application by importing the following package.

    ```
    import "github.com/newrelic/go-agent/v3/integrations/nrsecurityagent"
    ```

2. Enable IAST testing by adding code to initialize the integration after your call to `newrelic.NewApplication`.

```
app, err := newrelic.NewApplication(
  newrelic.ConfigAppName("Your Application Name"),
  newrelic.ConfigLicense("NEW_RELIC_LICENSE_KEY"),
)

```

3. Initialize the `nrsecurityagent` as given below:  

```
err := nrsecurityagent.InitSecurityAgent(
  app,
  nrsecurityagent.ConfigSecurityEnable(true),
  nrsecurityagent.ConfigSecurityValidatorServiceEndPointUrl("wss://csec.nr-data.net"),
)
```

4. Ensure that you wrap your framework router with the WrapRouter function for [Echo](https://pkg.go.dev/github.com/newrelic/go-agent/v3/integrations/nrecho-v4#WrapRouter), [Gin](https://pkg.go.dev/github.com/newrelic/go-agent/v3/integrations/nrgin#WrapRouter), [Gorillaframeworks](https://pkg.go.dev/github.com/newrelic/go-agent/v3/integrations/nrgorilla#WrapRouter). 
This is crucial for detecting routes(API endpoints) and enabling provable security in your application.

5. If you are opening an HTTP protocol endpoint, place the  newrelic.WrapListen function around the endpoint name to enable vulnerability scanning against that endpoint. For example:

```
http.ListenAndServe(newrelic.WrapListen(":8000"), nil)
```
<Callout variant="tip">
Skip this step if you are on linux environment.

</Callout>

6. Based on additional packages imported by the user application, add suitable [instrumentation package](https://github.com/newrelic/csec-go-agent#instrumentation-packages).

  </TabsPageItem>

  </TabsPages>
</Tabs>

<Callout variant="important">
    Ensure that the ```high_security``` mode is turned off, and you have updated your selected APM agent as follows:
    * Java: **v8.4.0** or higher
    * Node: **v10.3.0** or higher
    * Golang: **v3.23.0** or higher

</Callout>


    </Step>
    <Step>
    Once you've completed all the steps, restart your application and generate traffic against the application's APIs.   
    </Step>
    <Step>
    Click <DNT>**See your data**</DNT> to see an overview of your tested application.    
    </Step>
</Steps>

For more detailed instructions, check out these examples demo below.

    <CollapserGroup>
        <Collapser
            id="demo-install-java"
            title="How to set up IAST with Java"
        >
            See this example demo about how to set up IAST with Java (approx. 2:48 minutes):

            <Video
            type="wistia"
            id="dbipyzuyok"
            />

        </Collapser>
        <Collapser
            id="demo-install-nodejs"
            title="How to set up IAST with Node.js"
        >
            See this example demo about how to set up IAST with Node.js (approx. 2:49 minutes):

            <Video
            type="wistia"
            id="1m2suxuvuz"
            />

        </Collapser>
    </CollapserGroup>

    <CollapserGroup>
        <Collapser
            id="confirm-iast-functionality"
            title="How do I confirm that the IAST agent is functioning correctly?"
        >
           Do the following to confirm whether IAST is functioning correctly:

          * At the NewRelic UI, search for your application under <DNT>**one.newrelic.com > All capabilities > IAST > All Tests**</DNT>. After your application starts and some traffic is generated on that application, you can view application logs in the New Relic UI.

          * If the application is unavailable on the IAST UI, you can review the security agent logs for further information. In the `nr-security-home/logs` directory, 
          search for the file 'java-security-collector-init.log' (substitute node, go, python, ruby, etc. depending on the language used). 

          Search through the following steps to find the issue:

          ```
          [STEP-1] => Security agent is starting
          [STEP-2] => Generating unique identifier    (Node auth headers for web socket connection  )
          [STEP-3] => Gathering information about the application
          [STEP-4] => Web socket connection to SaaS validator established successfully
          [STEP-5] => Security agent components started
          [STEP-6] => Application instrumentation applied successfully
          [STEP-7] => Received and applied policy/configuration
          [STEP-8] => First event sent for validation. Security agent started successfully


          ```


        </Collapser>

        <Collapser
            id="checking-iast-analysis"
            title="How do I know IAST analysis is happening?"
        >
        To check if IAST is functioning correctly for the application, do the following:

        
        1. Go to <DNT>**one.newrelic.com > All capabilities > IAST > All Tests**</DNT> and search for your application.
        2. After clicking on your application name, you can view the details of the test including APIs covered, methods calls, and IAST analysis coverage.

        Also, if you have set the log level to `debug/finest`,  you can search for “Fuzz request received” in the `nr-security-home/logs/java-security-collector.log` file. That shows that the IAST analysis is in progress.


        </Collapser>

        <Collapser
            id="checking-iast-analysis"
            title="How do I know IAST analysis is happening?"
        >
        To check if IAST is functioning correctly for the application, do the following:

        
        1. Go to <DNT>**one.newrelic.com > All capabilities > IAST > All Tests**</DNT> and search for your application.
        2. After clicking on your application name, you can view the details of the test including APIs covered, methods calls, and IAST analysis coverage.

        Also, if you have set the log level to `debug/finest`,  you can search for “Fuzz request received” in the `nr-security-home/logs/java-security-collector.log` file. That shows that the IAST analysis is in progress.


        </Collapser>

    </CollapserGroup>

