---
title: 'UserStorageMutation'
metaDescription: 'Learn how to work the UserStorageMutation component'
freshnessValidatedDate: 2024-06-03
---
## UserStorageMutation

Save, delete, or update a user scoped document in NerdStorage.

### Usage

```
import { UserStorageMutation } from 'nr1'
```



### Examples

#### Write document

```
UserStorageMutation.mutate({
  actionType: UserStorageMutation.ACTION_TYPE.WRITE_DOCUMENT,
  collection: 'myCollection',
  documentId: 'myDocumentId',
  document: {
    name: 'John',
    surname: 'Doe',
  },
});
```



#### Delete document

```
UserStorageMutation.mutate({
  actionType: UserStorageMutation.ACTION_TYPE.DELETE_DOCUMENT,
  collection: 'myCollection',
  documentId: 'myDocumentId',
});
```



#### Delete collection

```
UserStorageMutation.mutate({
  actionType: UserStorageMutation.ACTION_TYPE.DELETE_COLLECTION,
  collection: 'myCollection',
});
```



### Props

|                                        |                                                                                                                                                                                                                                                                                                                                                                |
| -------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `actionType` <h5>REQUIRED</h5><h5>enum</h5>   | Type of action to perform.<OptionReference>UserStorageMutation.ACTION_TYPE.DELETE_COLLECTIONUserStorageMutation.ACTION_TYPE.DELETE_DOCUMENTUserStorageMutation.ACTION_TYPE.WRITE_DOCUMENT>                                                                                                                                         |
| `children` <h5>REQUIRED</h5><h5>function</h5> | Render prop function as children.<FunctionDefinition returnValue={[{"type":"React.ReactNode","description":""}]} arguments={[{"name":"mutate","type":"function","description":"Function to trigger a mutation from your UI."},{"name":"mutationResult","type":"MutationResult","description":"Results of the\\n mutation."}]} /> |
| `collection` <h5>string</h5>               | Collection name.                                                                                                                                                                                                                                                                                                                                               |
| `document` <h5>object</h5>                 | NerdStorage document. Documents are restricted to 64 kB in size when JSON-stringified.                                                                                                                                                                                                                                                                         |
| `documentId` <h5>string</h5>               | Document identifier to operate in. When omitted the whole collection is returned.                                                                                                                                                                                                                                                                              |

### Methods

### `UserStorageMutation.mutate`

<FunctionDefinition arguments={[{"description":"Object containing the mutation options. Any\\n \`UserStorageMutation\` prop is a valid option except \`children\`.","name":"props","type":"Object"}]} returnValue={{"description":"","type":"PromiseQueryResult"}} />

### Type definitions

<TypeDefReference typeDef={{"name":"PromiseQueryResult","properties":\[{"description":"Runtime error with \`graphQLErrors\`\\n and \`networkError\` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your query.","name":"data","type":"Object"},{"description":"If not \`null\`, \`fetchMore\` allows you to\\n load more results for your query. New data is merged with previous\\n data.","name":"fetchMore","type":"function|null"},{"description":"Refetch the query.","name":"refetch","type":"function"}]}} /><TypeDefReference typeDef={{"name":"MutationResult","properties":\[{"description":"Indicates that the request is in flight.","name":"loading","type":"boolean"},{"description":"Runtime error with \`graphQLErrors\`\\n and \`networkError\` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your mutation.","name":"data","type":"Object"}]}} />