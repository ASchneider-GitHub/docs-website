---
title: 'NerdGraphMutation'
metaDescription: 'Learn how to work the NerdGraphMutation component'
freshnessValidatedDate: 2024-06-03
---
## NerdGraphMutation

A generic NerdGraph mutation component that allows you to mutate anything from NerdGraph.

### Usage

```
import { NerdGraphMutation } from 'nr1'
```



### Examples

#### Do a mutation

```
NerdGraphMutation.mutate({
  mutation: ngql`
    mutation($guid: EntityGuid!) {
      taggingAddTagsToEntity(
        guid: $guid
        tags: { key: "team", values: ["ui"] }
      ) {
        errors {
          message
        }
      }
    }
  `,
  variables: {
    guid: 'XXXXXXXXXXX',
  },
});
```



#### Do mutation and refetch query

```
function render() {
  const mutation = ngql`
    mutation($guid: EntityGuid!) {
      taggingAddTagsToEntity(guid: $guid, tags: $tags) {
        errors {
          message
        }
      }
    }
  `;
  const variables = {
    guid: 'XXXXXXXXXXX',
    tags: { key: 'team', values: ['ui'] },
  };


  // NOTE: Sometimes mutations take awhile so doing a refetch immediatly after a mutate
  // doesn't show any change.
  return (
    <NerdGraphQuery query={query} variables={variables}>
      {({ data, refetch }) => (
        <>
          <RenderData data={data} />
          <Button
            onClick={() =>
              NerdGraphMutation.mutate({
                mutation,
                variables,
              }).then(refetch)
            }
          >
            Mutate
          </Button>
        </>
      )}
    </NerdGraphQuery>
  );
}
```



### Props

|                                               |                                                                                                                                                                                                                                                                                                                                                                |
| --------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `children`##### REQUIRED##### function        | Render prop function as children.&lt;FunctionDefinition returnValue=&#x7B;\[&#x7B;"type":"React.ReactNode","description":""}]} arguments=&#x7B;\[&#x7B;"name":"mutate","type":"function","description":"Function to trigger a mutation from your UI."},&#x7B;"name":"mutationResult","type":"MutationResult","description":"Results of the\\n mutation."}]} /> |
| `mutation`##### REQUIRED##### string\|object  | GraphQL mutation, either as a string or a GraphQL document parsed into an AST by `graphql-tag`.``` import { ngql } from 'nr1';   const mutation = ngql`   mutation($guid: EntityGuid!) {     taggingAddTagsToEntity(guid: $guid, tags: $tags) {       errors {         message       }     }   } `; ```                                             |
| `unsafeExperimentalNamespaces`##### string\[] | List containing unsafe \[experimental namespaces]INSERTLINKhttps&#x3A;//pages.datanerd.us/unified-api/nerd-graph-docs/graphql/schema_visibility.html#experimental-api-support your query opts in to using.                                                                                                                                                     |
| `variables`##### object                       | Object containing all of the variables your mutation needs to execute.                                                                                                                                                                                                                                                                                         |

### Methods

### `NerdGraphMutation.mutate`

&lt;FunctionDefinition arguments=&#x7B;\[&#x7B;"description":"Object containing the mutation options. Any\\n \`NerdGraphMutation\` prop is a valid option except \`children\`.","name":"props","type":"Object"}]} returnValue=&#x7B;&#x7B;"description":"","type":"PromiseQueryResult"}} />

### Type definitions

&lt;TypeDefReference typeDef=&#x7B;&#x7B;"name":"PromiseQueryResult","properties":\[&#x7B;"description":"Runtime error with \`graphQLErrors\`\\n and \`networkError\` properties.","name":"error","type":"ApolloClient.ApolloError"},&#x7B;"description":"Object containing the result of your query.","name":"data","type":"Object"},&#x7B;"description":"If not \`null\`, \`fetchMore\` allows you to\\n load more results for your query. New data is merged with previous\\n data.","name":"fetchMore","type":"function|null"},&#x7B;"description":"Refetch the query.","name":"refetch","type":"function"}]}} />&lt;TypeDefReference typeDef=&#x7B;&#x7B;"name":"MutationResult","properties":\[&#x7B;"description":"Indicates that the request is in flight.","name":"loading","type":"boolean"},&#x7B;"description":"Runtime error with \`graphQLErrors\`\\n and \`networkError\` properties.","name":"error","type":"ApolloClient.ApolloError"},&#x7B;"description":"Object containing the result of your mutation.","name":"data","type":"Object"}]}} />