---
title: Create NRQL infrastructure "host not reporting" alert conditions
---

NRQL condition guided mode offers a curated experience for creating infrastructure "host not reporting" (HNR) NRQL conditions. This is preferred to the alternative of creating [infrastructure "host not reporting" conditions](/docs/infrastructure/infrastructure-alerts/infrastructure-alert-conditions/create-infrastructure-host-not-reporting-condition/).

Use NRQL HNR conditions to notify you when we've stopped receiving data from an infrastructure agent. This feature allows you to dynamically alert on groups of hosts, configure the time window from 30 seconds to 48 hours, specify under what circumstances you want an incident to open/close, and take full advantage of alerts notifications.

## Features [#features]

The Host not reporting event triggers when data from the infrastructure agent doesn't reach our collector within the time frame you specify.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>**Host not reporting condition**</DNT>
      </th>

      <th>
        <DNT>**Features**</DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        What to monitor
      </td>

      <td>
        You can use the [entity filter bar](/docs/new-relic-solutions/new-relic-one/core-concepts/search-filter-entities) to select which hosts you want to the NRQL alert condition to monitor. Based on your selections, the NRQL query will be automatically built for you. The condition will also automatically apply to any hosts you add in the future that match your condition's filters.
      </td>
    </tr>

    <tr>
      <td>
        How to notify
      </td>

      <td>
        NRQL conditions are contained in [policies](/docs/using-new-relic/welcome-new-relic/get-started/glossary#alert-policy). Policies use [workflows and destinations](/docs/alerts/get-notified/intro-notifications/) to determine how to notify you when an incident is created.
      </td>
    </tr>

    <tr>
      <td>
        When to open an incident
      </td>

      <td>
        HNR guided mode leads you through creating a loss of signal NRQL condition. This means you have full access to all of the [loss of signal threshold settings](/docs/alerts/create-alert/create-alert-condition/create-nrql-alert-conditions/#signal-loss) including configuring the time window that triggers a host not reporting event and selecting from options: <DNT>**Close all current open incidents**</DNT>,  <DNT>**Open new "lost signal" incident**</DNT>, and <DNT>**Do not open "lost signal" incident on expected termination**</DNT>. These settings, in combination with the policy's [incident preferences](/docs/alerts/new-relic-alerts/configuring-alert-policies/specify-when-new-relic-creates-incidents), determine when an incident will open.
      </td>
    </tr>
  </tbody>
</table>

## Create a NRQL HNR alert condition [#create-nrql-hnr-alert-condition]

// TODO add screenshots

1. Navigation to an alert policy page.
2. Click **New alert condition**.
3. Select **Use guided mode**.
4. Select **Hosts** under the **Tell us where to look** category. (Note: If you don't see the "hosts" option, you may need to follow [instructions to instrument your infrastructure](/docs/infrastructure/host-integrations/installation/new-relic-guided-install-overview/).)
5. If **Hosts** isn't automatically selected for you under **Select an entity type**, choose **Hosts** again.
6. Click **Next**.
7. Under **Select signal catgory**, select **Host**.
8. Under **Select a metric to monitor**, select **Host not reporting**.
9. Now, you can use the entity filter to narrow the scope of the host(s) you want to monitor.
10. Click **Next**.
11. Under **Consider the signal lost after**, you have the option to adjust the time window from 30 seconds to 48 hours. You also have the option to adjust your [loss of signal settings](/docs/alerts/create-alert/create-alert-condition/create-nrql-alert-conditions/#signal-loss) including selecting the option to skip opening an incident when the signal is expected to terminate (i.e. your host is expected to shut down).
12. Follow the remaining steps to finish configuring and save your alert condition.

## Do not open "lost signal" incident on expected termination [#do-not-open-lost-signal]

When you check the option **Do not open "lost signal" incident on expected termination**, you're telling New Relic to skip opening an incident when the signal is expected to terminate. This is useful when you know a host is going to shut down.

In order to enable this option, you must also have "Open new "lost signal" incident" checked. This way, New Relic knows to open a new incident when the signal is lost, but not when the signal is expected to be lost.

<Callout variant="important">
  In order to prevent a loss of signal incident from opening when "Do not open "lost signal" incident on expected termination", the tag `termination: expected` must be added to the host entity. This tag tells us the signal was expected to terminate. See how to add the tag [directly to the host entity](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/#add-tags).
</Callout>

